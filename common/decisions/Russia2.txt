#russia2 decisions

SOV_europe_expansion = {

    SOV_join_the_war_against_poland = {

		icon = GFX_decision_generic_ignite_civil_war

     	available = {
			date > 1939.09.17
			NOT = {
				POL = {
					OR = {
						has_capitulated = yes
						is_in_faction_with = ENG
						is_in_faction_with = FRA
					}
				}
			}
     		country_exists = POL
     		has_idea = SOV_molotov_ribbentrop_pact
			POL = {
				has_war_with = GER
			}
     	}

		visible = {
			NOT = {
				has_government = democratic
			}
			country_exists = POL
			NOT = {
				POL = {
					has_capitulated = yes
				}
			}
		}

     	fire_only_once = yes

     	cost = 50

		ai_will_do = {
			factor = 2000
			modifier = {
				factor = 0
				OR = {
					any_other_country = {
						is_major = yes
						OR = {
							is_in_faction_with = POL
							has_guaranteed = POL
						}
					}
					POL = {
						has_idea = anti_soviet_pact
					}
				}
			}
		}

     	complete_effect = {
			every_country = {
				limit = {
					has_guaranteed = POL
				}
				diplomatic_relation = {
					country = POL
					relation = guarantee
					active = no
				}
			}
			SOV = {
				declare_war_on = {
					target = POL
					type = take_state_focus
					generator = { 89 91 93 94 95 96 784 }
				}
			}
		}
	}

    SOV_demand_poland = {

     	available = {
     	    has_army_manpower = {
    		size > 1500000
    		}
    		NOT = { has_war_with = POL }
    		NOT = { has_idea = SOV_molotov_ribbentrop_pact }
			country_exists = POL
     	}

		visible = {
			NOT = {
				has_government = democratic
			}
			country_exists = POL
			NOT = {
				POL = {
					has_capitulated = yes
				}
			}
		}

     	fire_only_once = yes

     	cost = 100

		ai_will_do = {
			factor = 2000
			modifier = {
				GER = {
					has_war_with = POL
				}
				factor = 0
			}
		}

     	complete_effect = {
			if = {
				limit = {
					POL = {
						is_subject = yes
					}
				}
				every_country = {
					limit = {
						POL = {
							is_subject_of = PREV
						}
					}
					country_event = { hours = 6 id = polands.1 }
					custom_effect_tooltip = SOV_demand_poland_tt
				}
			}
			else = {
				POL = {
					country_event = { hours = 6 id = polands.1 }
				}
			}
		}
    }

    SOV_demand_bessarabia = {

     	available = {
     	    has_army_manpower = {
    		size > 1000000
    		}
			has_war = no
     	}

		visible = {
			NOT = {
				has_government = democratic
			}
			NOT = {
				SOV = {
					owns_state = 78
				}
			}
		}

     	fire_only_once = yes

     	cost = 50

		ai_will_do = {
			factor = 1000
		}

     	complete_effect = {
			if = {
				limit = {
					any_country = {
						is_subject = yes
						owns_state = 78
					}
				}
				every_country = {
					limit = {
						any_country = {
							is_subject_of = PREV
							owns_state = 78
						}
					}
					country_event = { hours = 6 id = romanias.1 }
					custom_effect_tooltip = SOV_demand_bessarabia_tt
				}
			}
			else = {
				every_country = {
					limit = {
						owns_state = 78
					}
					country_event = { hours = 6 id = romanias.1 }
				}
			}
		}
    }

    SOV_demand_estonia = {

     	available = {
     	    has_army_manpower = {
    		size > 1000000
    		}
    		NOT = { has_war_with = EST }
			country_exists = EST
			NOT = {
				EST = {
					is_subject_of = SOV
				}
			}
     	}

		visible = {
			NOT = {
				has_government = democratic
			}
			country_exists = EST
			NOT = {
				EST = {
					is_subject_of = SOV
				}
			}
		}

     	fire_only_once = yes

     	cost = 50

		ai_will_do = {
			factor = 1000
		}

     	complete_effect = {
			if = {
				limit = {
					EST = {
						is_subject = yes
					}
				}
				every_country = {
					limit = {
						EST = {
							is_subject_of = PREV
						}
					}
					country_event = { hours = 6 id = baltics.1 }
					custom_effect_tooltip = SOV_demand_estonia_tt
				}
			}
			else = {
				EST = {
					country_event = { hours = 6 id = baltics.1 }
				}
			}
		}
    }

    SOV_demand_latvia = {

     	available = {
     	    has_army_manpower = {
    		size > 1000000
    		}
    		NOT = { has_war_with = LAT }
			country_exists = LAT
			NOT = {
				LAT = {
					is_subject_of = SOV
				}
			}
     	}

		visible = {
			NOT = {
				has_government = democratic
			}
			country_exists = LAT
			NOT = {
				LAT = {
					is_subject_of = SOV
				}
			}
		}

     	fire_only_once = yes

     	cost = 50

		ai_will_do = {
			factor = 1000
		}

     	complete_effect = {
			if = {
				limit = {
					LAT = {
						is_subject = yes
					}
				}
				every_country = {
					limit = {
						LAT = {
							is_subject_of = PREV
						}
					}
					country_event = { hours = 6 id = baltics.2 }
					custom_effect_tooltip = SOV_demand_latvia_tt
				}
			}
			else = {
				LAT = {
					country_event = { hours = 6 id = baltics.2 }
				}
			}
		}
    }

    SOV_demand_lithuania = {

     	available = {
     	    has_army_manpower = {
    		size > 1000000
    		}
    		NOT = { has_war_with = LIT }
			country_exists = LIT
			NOT = {
				LIT = {
					is_subject_of = SOV
				}
			}
    	}

		visible = {
			NOT = {
				has_government = democratic
			}
			country_exists = LIT
			NOT = {
				LIT = {
					is_subject_of = SOV
				}
			}
		}

     	fire_only_once = yes

     	cost = 50

		ai_will_do = {
			factor = 1000
		}

     	complete_effect = {
			if = {
				limit = {
					LIT = {
						is_subject = yes
					}
				}
				every_country = {
					limit = {
						LIT = {
							is_subject_of = PREV
						}
					}
					country_event = { hours = 6 id = baltics.3 }
					custom_effect_tooltip = SOV_demand_lithuania_tt
				}
			}
			else = {
				LIT = {
					country_event = { hours = 6 id = baltics.3 }
				}
			}
		}
    }
}

SOV_europe_expansion_democratic = {

    SOV_demand_poland_democratic = {

     	available = {
     	    has_army_manpower = {
    			size > 1500000
    		}
    		NOT = { has_war_with = POL }
			POL = {
				is_subject = no
				has_capitulated = no
				NOT = {
					has_government = democratic
				}
			}
     	}

		visible = {
			country_exists = POL
		}

     	fire_only_once = yes

     	cost = 25

		ai_will_do = {
			factor = 2000
		}

     	complete_effect = {
			POL = {
				country_event = soviets.170
			}
		}
    }

	SOV_demand_bessarabia_democratic = {

     	available = {
     	    has_army_manpower = {
    			size > 1000000
    		}
    		NOT = { has_war_with = ROM }
			ROM = {
				is_subject = no
				has_capitulated = no
				NOT = {
					has_government = democratic
				}
			}
     	}

		visible = {
			country_exists = ROM
		}

     	fire_only_once = yes

     	cost = 15

		ai_will_do = {
			factor = 1000
		}

     	complete_effect = {
			ROM = {
				country_event = soviets.170
			}
		}
    }

    SOV_demand_estonia_democratic = {

     	available = {
     	    has_army_manpower = {
    			size > 1000000
    		}
    		NOT = { has_war_with = EST }
			EST = {
				is_subject = no
				has_capitulated = no
				NOT = {
					has_government = democratic
				}
			}
     	}

		visible = {
			country_exists = EST
		}

     	fire_only_once = yes

     	cost = 10

		ai_will_do = {
			factor = 1000
		}

     	complete_effect = {
			EST = {
				country_event = soviets.170
			}
		}
    }

    SOV_demand_latvia_democratic = {

     	available = {
     	    has_army_manpower = {
    			size > 1000000
    		}
    		NOT = { has_war_with = LAT }
			LAT = {
				is_subject = no
				has_capitulated = no
				NOT = {
					has_government = democratic
				}
			}
     	}

		visible = {
			country_exists = LAT
		}

     	fire_only_once = yes

     	cost = 10

		ai_will_do = {
			factor = 1000
		}

     	complete_effect = {
			LAT = {
				country_event = soviets.170
			}
		}
    }

    SOV_demand_lithuania_democratic = {

     	available = {
     	    has_army_manpower = {
    			size > 1000000
    		}
    		NOT = { has_war_with = LIT }
			LIT = {
				is_subject = no
				has_capitulated = no
				NOT = {
					has_government = democratic
				}
			}
    	}

		visible = {
			country_exists = LIT
		}

     	fire_only_once = yes

     	cost = 10

		ai_will_do = {
			factor = 1000
		}

     	complete_effect = {
			LIT = {
				country_event = soviets.170
			}
		}
    }
}

SOV_integrate_the_baltics = {

	SOV_integrate_lithuania = {
		available = {
			LIT = { is_subject_of = SOV }
			date > 1940.05.15
		}

		visible = {
			LIT = { is_subject_of = SOV }
		}

		fire_only_once = yes

		cost = 100

		ai_will_do = {
			factor = 80
		}

		days_remove = 70
		remove_effect = {
			annex_country = {
				target = LIT
			}
		}
	}

	SOV_integrate_latvia = {
		available = {
			LAT = { is_subject_of = SOV }
			date > 1940.05.15
		}

		visible = {
			LAT = { is_subject_of = SOV }
		}

		fire_only_once = yes

		cost = 100

		ai_will_do = {
			factor = 80
		}

		days_remove = 70
		remove_effect = {
			annex_country = {
				target = LAT
			}
		}
	}

	SOV_integrate_estonia = {
		available = {
			EST = { is_subject_of = SOV }
			date > 1940.05.15
		}

		visible = {
			EST = { is_subject_of = SOV }
		}

		fire_only_once = yes

		cost = 100

		ai_will_do = {
			factor = 80
		}

		days_remove = 70
		remove_effect = {
			annex_country = {
				target = EST
			}
		}
	}
}

SOV_unhappy_peasants = {

	SOV_peasants_rebelion = {

		icon = generic_civil_support

		allowed = { TAG = SOV }

		available = {
			custom_trigger_tooltip = {
		    tooltip = SOV_peasants_rebelion_tt
			NOT = {
				has_idea = SOV_Unhappy_peasants1
				has_idea = SOV_Unhappy_peasants2
				has_idea = SOV_Unhappy_peasants3
				has_idea = SOV_Unhappy_peasants4
				has_idea = SOV_Unhappy_peasants5
				has_idea = SOV_Unhappy_peasants6
				}
			}
		}

		activation = {
			OR = {
				has_idea = SOV_Unhappy_peasants1
				has_idea = SOV_Unhappy_peasants2
				has_idea = SOV_Unhappy_peasants3
				has_idea = SOV_Unhappy_peasants4
				has_idea = SOV_Unhappy_peasants5
				has_idea = SOV_Unhappy_peasants6
			}
		}

		visible = {

		}

		is_good = no

		fire_only_once = yes

		days_mission_timeout = 2920

		cancel_trigger = {
			hidden_trigger = {
				has_idea = SOV_Happy_peasants
			}
		}

		timeout_effect = {
			SOV = {
            	country_event = { id = soviets.18 }
			}
        }

		complete_effect = {
			add_manpower = 100000
		}
	}

	SOV_peasants_propaganda = {
		icon = GFX_decision_eng_propaganda_campaigns
        cost = 50
		ai_will_do = {
			factor = 300
		}
        fire_only_once = yes
        visible = {
			has_idea = SOV_Unhappy_peasants1
        }
        available = {
        	has_completed_focus = SOV_start_five_year_plan
        	custom_trigger_tooltip = {
	        	tooltip = SOV_unhappy_peasants_tt
	            has_idea = SOV_Unhappy_peasants1
            }
        }
        complete_effect = {
	        swap_ideas = {
				remove_idea = SOV_Unhappy_peasants1
				add_idea = SOV_Unhappy_peasants2
			}
        }
    }

    SOV_peasants_compensations = {
		icon = GFX_decision_hol_attract_foreign_investors
        cost = 100
		ai_will_do = {
			factor = 300
		}
        fire_only_once = yes
        visible = {
        	OR = {
				has_idea = SOV_Unhappy_peasants1
				has_idea = SOV_Unhappy_peasants2
			}
        }
        available = {
        	has_completed_focus = SOV_improve_russia
            custom_trigger_tooltip = {
	        	tooltip = SOV_peasants_propaganda_tt
	            has_idea = SOV_Unhappy_peasants2
            }
        }
        complete_effect = {
	        swap_ideas = {
				remove_idea = SOV_Unhappy_peasants2
				add_idea = SOV_Unhappy_peasants3
			}
        }
    }

    SOV_peasants_recruiting = {
		icon = GFX_decision_generic_nationalism
        cost = 100
		ai_will_do = {
			factor = 300
		}
        fire_only_once = yes
        visible = {
        	OR = {
				has_idea = SOV_Unhappy_peasants1
				has_idea = SOV_Unhappy_peasants2
				has_idea = SOV_Unhappy_peasants3
			}
        }
        available = {
        	has_completed_focus = SOV_new_soviet_uniform
            custom_trigger_tooltip = {
	        	tooltip = SOV_peasants_compensations_tt
	            has_idea = SOV_Unhappy_peasants3
            }
        }
        complete_effect = {
	        swap_ideas = {
				remove_idea = SOV_Unhappy_peasants3
				add_idea = SOV_Unhappy_peasants4
			}
        }
    }

    SOV_peasants_exile = {
		icon = GFX_decision_oppression
        cost = 150
		ai_will_do = {
			factor = 300
		}
        fire_only_once = yes
        visible = {
        	OR = {
				has_idea = SOV_Unhappy_peasants1
				has_idea = SOV_Unhappy_peasants2
				has_idea = SOV_Unhappy_peasants3
				has_idea = SOV_Unhappy_peasants4
			}
        }
        available = {
        	has_completed_focus = SOV_improve_siberias_railways
            custom_trigger_tooltip = {
	        	tooltip = SOV_peasants_recruiting_tt
	            has_idea = SOV_Unhappy_peasants4
            }
        }
        complete_effect = {
	        swap_ideas = {
				remove_idea = SOV_Unhappy_peasants4
				add_idea = SOV_Unhappy_peasants5
			}
        }
    }

    SOV_peasants_demands = {
		icon = GFX_decision_eng_trade_unions_support
        cost = 150
		ai_will_do = {
			factor = 300
		}
        fire_only_once = yes
        visible = {
        	OR = {
				has_idea = SOV_Unhappy_peasants1
				has_idea = SOV_Unhappy_peasants2
				has_idea = SOV_Unhappy_peasants3
				has_idea = SOV_Unhappy_peasants4
				has_idea = SOV_Unhappy_peasants5
			}
        }
        available = {
        	has_completed_focus = SOV_new_russia
            custom_trigger_tooltip = {
	        	tooltip = SOV_peasants_exile_tt
	            has_idea = SOV_Unhappy_peasants5
            }
        }
        complete_effect = {
	        swap_ideas = {
				remove_idea = SOV_Unhappy_peasants5
				add_idea = SOV_Unhappy_peasants6
			}
        }
    }

    SOV_happy_peasants = {
		icon = GFX_decision_hol_exchange_intelligence_data
        cost = 150
		ai_will_do = {
			factor = 300
		}
        fire_only_once = yes
        visible = {
        	OR = {
				has_idea = SOV_Unhappy_peasants1
				has_idea = SOV_Unhappy_peasants2
				has_idea = SOV_Unhappy_peasants3
				has_idea = SOV_Unhappy_peasants4
				has_idea = SOV_Unhappy_peasants5
				has_idea = SOV_Unhappy_peasants6
			}
        }
        available = {
        	has_completed_focus = SOV_finish_the_second_five_year_plan
            custom_trigger_tooltip = {
	        	tooltip = SOV_peasants_demands_tt
	            has_idea = SOV_Unhappy_peasants6
            }
        }
        complete_effect = {
			remove_ideas = SOV_Unhappy_peasants6
			add_ideas = SOV_Happy_peasants
        }
    }
}

SOV_chinese_war = {

	SOV_send_guns_nationalist = {
		icon = GFX_decision_generic_prepare_civil_war
		cost = 50
		ai_will_do = {
			factor = 70
		}
		fire_only_once = yes
		visible = {
			has_completed_focus = SOV_send_help_china
			CHI = {
				has_war_with = JAP
			}
		}
		available = {
			has_equipment = {
				infantry_equipment > 3999
			}
		}
		complete_effect = {
			send_equipment = {
				equipment = infantry_equipment
				amount = 4000
				target = CHI
			}
			army_experience = 15
		}
	}

	SOV_send_planes_nationalist = {
		icon = GFX_decision_generic_air
		cost = 50
		ai_will_do = {
			factor = 70
		}
		fire_only_once = yes
		visible = {
			has_completed_focus = SOV_send_help_china
			CHI = {
				has_war_with = JAP
			}
		}
		available = {
			has_equipment = {
				fighter_equipment > 499
			}
			has_equipment = {
				tac_bomber_equipment > 499
			}
		}
		complete_effect = {
			send_equipment = {
				equipment = fighter_equipment
				amount = 500
				target = CHI
			}
			send_equipment = {
				equipment = tac_bomber_equipment
				amount = 500
				target = CHI
			}
			air_experience = 25
		}
	}

	SOV_send_guns_communist = {
		icon = GFX_decision_generic_prepare_civil_war
		cost = 50
		ai_will_do = {
			factor = 70
		}
		fire_only_once = yes
		visible = {
			has_completed_focus = SOV_send_help_china
			PRC = {
				has_war_with = JAP
			}
		}
		available = {
			has_equipment = {
				infantry_equipment > 2999
			}
		}
		complete_effect = {
			send_equipment = {
				equipment = infantry_equipment
				amount = 3000
				target = PRC
			}
			army_experience = 15
		}
	}

	SOV_send_planes_communist = {
		icon = GFX_decision_generic_air
		cost = 50
		ai_will_do = {
			factor = 70
		}
		fire_only_once = yes
		visible = {
			has_completed_focus = SOV_send_help_china
			PRC = {
				has_war_with = JAP
			}
		}
		available = {
			has_equipment = {
				fighter_equipment > 249
			}
			has_equipment = {
				tac_bomber_equipment > 249
			}
		}
		complete_effect = {
			send_equipment = {
				equipment = fighter_equipment
				amount = 250
				target = PRC
			}
			send_equipment = {
				equipment = tac_bomber_equipment
				amount = 250
				target = PRC
			}
			air_experience = 15
		}
	}

	SOV_send_support_equipment_nationalist = {
		icon = GFX_decision_generic_operation
		cost = 50
		ai_will_do = {
			factor = 70
		}
		fire_only_once = yes
		visible = {
			has_completed_focus = SOV_send_help_china
			CHI = {
				has_war_with = JAP
			}
		}
		available = {
			has_equipment = {
				support_equipment > 199
			}
		}
		complete_effect = {
			send_equipment = {
				equipment = support_equipment
				amount = 200
				target = CHI
			}
			army_experience = 5
		}
	}

	SOV_send_support_equipment_communist = {
		icon = GFX_decision_generic_operation
		cost = 50
		ai_will_do = {
			factor = 70
		}
		fire_only_once = yes
		visible = {
			has_completed_focus = SOV_send_help_china
			PRC = {
				has_war_with = JAP
			}
		}
		available = {
			has_equipment = {
				support_equipment > 199
			}
		}
		complete_effect = {
			send_equipment = {
				equipment = support_equipment
				amount = 200
				target = PRC
			}
			army_experience = 5
		}
	}
}

SOV_minor_communist_countries_europe = {

	SOV_invite_countries = {

		icon = GFX_generic_political_discourse

		fire_only_once = yes

		days_remove = 25

		allowed = {
			original_tag = SOV
		}

		visible = {
			is_faction_leader = yes
			has_completed_focus = SOV_communist_minorities_europe
			has_government = communism
		}

		target_root_trigger = {
			has_completed_focus = SOV_communist_minorities_europe
		}

		target_trigger = {
			FROM = {
				NOT = { is_in_faction_with = ROOT }
				capital_scope = {
					is_on_continent = europe
				}
				is_major = no
				num_of_factories < 30
				NOT = {
					TAG = SLV
					TAG = CRO
					TAG = BOS
					TAG = SER
					TAG = MNT
					TAG = MAC
					TAG = CAT
					TAG = NAV
					TAG = GLC
					TAG = SCO
					TAG = WLS
					TAG = NIR
				}
			}
        }

		available = {
			OR = {
				has_opinion = {
					target = FROM
					value > 49
				}
				FROM = {
					has_opinion = {
						target = ROOT
						value > 49
					}
				}
			}
			FROM = {
				is_subject = no
				is_in_faction = no
				OR = {
					has_government = communism
					communism > 0.3
				}
				NOT = {
					has_war_with = SOV
				}
			}
		}

		cost = 25

		remove_effect = {
			FROM = {
				country_event = {
					id = soviets.69
				}
			}
		}

		ai_will_do = {
			factor = 100
		}
	}

	SOV_invest_countries = {

		icon = GFX_decision_ger_military_buildup

		fire_only_once = yes

		days_remove = 70

		allowed = {
			original_tag = SOV
		}

		visible = {
			is_faction_leader = yes
			has_completed_focus = SOV_help_minor_communist_countries_europe
			has_government = communism
		}

		target_root_trigger = {
			has_completed_focus = SOV_help_minor_communist_countries_europe
		}

		target_trigger = {
			FROM = {
				has_country_flag = accepted_4th_international
			}
        }

		cost = 50

		remove_effect = {
			FROM = {
				random_owned_state = {
					add_extra_state_shared_building_slots = 2
					add_building_construction  = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
				random_owned_state = {
					add_extra_state_shared_building_slots = 2
					add_building_construction  = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				add_popularity = {
					ideology = communism
					popularity = 0.1
				}
			}
		}

		ai_will_do = {
			factor = 80
		}
	}
}

SOV_help_spain = {

	SOV_send_weapons_spain = {
		icon = GFX_decision_generic_prepare_civil_war
		cost = 50
		ai_will_do = {
			factor = 70
		}
		fire_only_once = yes
		allowed = {
			original_tag = SOV
		}
		visible = {
			has_completed_focus = SOV_weapons_spain
			SPD = {
				has_civil_war = yes
			}
		}
		available = {
			SPD = {
				has_civil_war = yes
			}
			has_equipment = {
				infantry_equipment > 1999
			}
		}
		complete_effect = {
			send_equipment = {
				equipment = infantry_equipment
				amount = 2000
				target = SPD
			}
			army_experience = 15
		}
	}

	SOV_send_planes_spain = {
		icon = GFX_decision_generic_air
		cost = 50
		ai_will_do = {
			factor = 70
		}
		fire_only_once = yes
		allowed = {
			original_tag = SOV
		}
		visible = {
			has_completed_focus = SOV_weapons_spain
			SPD = {
				has_civil_war = yes
			}
		}
		available = {
			has_completed_focus = SOV_weapons_spain
			has_equipment = {
				fighter_equipment > 49
			}
			has_equipment = {
				tac_bomber_equipment > 49
			}
		}
		complete_effect = {
			send_equipment = {
				equipment = fighter_equipment
				amount = 50
				target = SPD
			}
			send_equipment = {
				equipment = tac_bomber_equipment
				amount = 50
				target = SPD
			}
			air_experience = 15
		}
	}

	SOV_send_support_equipment_spain = {
		icon = GFX_decision_generic_operation
		cost = 50
		ai_will_do = {
			factor = 70
		}
		fire_only_once = yes
		visible = {
			has_completed_focus = SOV_weapons_spain
			SPD = {
				has_civil_war = yes
			}
		}
		available = {
			has_completed_focus = SOV_weapons_spain
			has_equipment = {
				support_equipment > 299
			}
		}
		complete_effect = {
			send_equipment = {
				equipment = support_equipment
				amount = 300
				target = SPD
			}
			army_experience = 10
		}
	}

	SOV_send_volunteer = {
		icon = GFX_decision_eng_blackshirt_march
		cost = 50
		ai_will_do = {
			factor = 70
		}
		fire_only_once = yes
		visible = {
			has_completed_focus = SOV_weapons_spain
			SPD = {
				has_civil_war = yes
			}
		}
		available = {
			has_completed_focus = SOV_weapons_spain
		}
		complete_effect = {
			SPD = {
				country_event = { id = spains.4 days = 1 }
			}
			add_manpower = -10500
		}
	}

	SOV_send_weapons_communism_rebel = {
		icon = GFX_decision_generic_prepare_civil_war
		cost = 50
		ai_will_do = {
			factor = 70
		}
		fire_only_once = yes
		allowed = {
			original_tag = SOV
		}
		visible = {
			has_completed_focus = SOV_weapons_spain
			SPC = {
				has_civil_war = yes
				has_government = communism
			}
		}
		available = {
			SPC = {
				has_civil_war = yes
				has_government = communism
			}
			has_equipment = {
				infantry_equipment > 1999
			}
		}
		complete_effect = {
			send_equipment = {
				equipment = infantry_equipment
				amount = 2000
				target = SPC
			}
			army_experience = 15
		}
	}

	SOV_send_planes_communism_rebel = {
		icon = GFX_decision_generic_air
		cost = 50
		ai_will_do = {
			factor = 70
		}
		fire_only_once = yes
		allowed = {
			original_tag = SOV
		}
		visible = {
			has_completed_focus = SOV_weapons_spain
			SPC = {
				has_civil_war = yes
				has_government = communism
			}
		}
		available = {
			has_completed_focus = SOV_weapons_spain
			has_equipment = {
				fighter_equipment > 49
			}
			has_equipment = {
				tac_bomber_equipment > 49
			}
			SPC = {
				has_government = communism
			}
		}
		complete_effect = {
			send_equipment = {
				equipment = fighter_equipment
				amount = 50
				target = SPC
			}
			send_equipment = {
				equipment = tac_bomber_equipment
				amount = 50
				target = SPC
			}
			air_experience = 15
		}
	}

	SOV_send_support_equipment_communism_rebel = {
		icon = GFX_decision_generic_operation
		cost = 50
		ai_will_do = {
			factor = 70
		}
		fire_only_once = yes
		visible = {
			has_completed_focus = SOV_weapons_spain
			SPC = {
				has_civil_war = yes
				has_government = communism
			}
		}
		available = {
			has_completed_focus = SOV_weapons_spain
			has_equipment = {
				support_equipment > 299
			}
			SPC = {
				has_government = communism
			}
		}
		complete_effect = {
			send_equipment = {
				equipment = support_equipment
				amount = 300
				target = SPC
			}
			army_experience = 10
		}
	}

	SOV_send_volunteer_communism_rebel = {
		icon = GFX_decision_eng_blackshirt_march
		cost = 50
		ai_will_do = {
			factor = 70
		}
		fire_only_once = yes
		visible = {
			has_completed_focus = SOV_weapons_spain
			SPC = {
				has_civil_war = yes
				has_government = communism
			}
		}
		available = {
			has_completed_focus = SOV_weapons_spain
			SPC = {
				has_government = communism
			}
		}
		complete_effect = {
			SPC = {
				country_event = { id = spains.4 days = 1 }
			}
			add_manpower = -10500
		}
	}
}

SOV_mission_op = {

	SOV_mission_korea = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			tag = HAW
		}
		available = {
			has_country_flag = SOV_liberated_korea
		}
		visible = {
			SOV = {
				has_country_flag = SOV_is_liberating_korea
			}
			has_country_flag = SOV_is_liberation_target_korea
		}
		days_mission_timeout = 360
		is_good = no
		timeout_effect = {

		}
		complete_effect = {
			hidden_effect = {
				clr_country_flag = SOV_is_liberation_target_korea
			}
		}
	}

	SOV_mission_indochina = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			tag = HAW
		}
		available = {
			has_country_flag = SOV_liberated_indochina
		}
		visible = {
			SOV = {
				has_country_flag = SOV_is_liberating_indochina
			}
			FROM = {
				has_country_flag = SOV_is_liberation_target_indochina
			}
		}
		days_mission_timeout = 360
		is_good = no
		timeout_effect = {

		}
		complete_effect = {
			hidden_effect = {
				clr_country_flag = SOV_is_liberation_target_indochina
			}
		}
	}

	SOV_mission_tibet = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			tag = HAW
		}
		available = {
			has_country_flag = SOV_liberated_tibet
		}
		visible = {
			SOV = {
				has_country_flag = SOV_is_liberating_tibet
			}
			FROM = {
				has_country_flag = SOV_is_liberation_target_tibet
			}
		}
		days_mission_timeout = 360
		is_good = no
		timeout_effect = {

		}
		complete_effect = {
			hidden_effect = {
				clr_country_flag = SOV_is_liberation_target_tibet
			}
		}
	}

	SOV_mission_ethiopia = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			tag = HAW
		}
		available = {
			has_country_flag = SOV_liberated_ethiopia
		}
		visible = {
			SOV = {
				has_country_flag = SOV_is_liberating_ethiopia
			}
			FROM = {
				has_country_flag = SOV_is_liberation_target_ethiopia
			}
		}
		days_mission_timeout = 360
		is_good = no
		timeout_effect = {

		}
		complete_effect = {
			hidden_effect = {
				clr_country_flag = SOV_is_liberation_target_ethiopia
			}
		}
	}

	SOV_mission_morocco = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			tag = HAW
		}
		available = {
			has_country_flag = SOV_liberated_morocco
		}
		visible = {
			SOV = {
				has_country_flag = SOV_is_liberating_morocco
			}
			FROM = {
				has_country_flag = SOV_is_liberation_target_morocco
			}
		}
		days_mission_timeout = 360
		is_good = no
		timeout_effect = {

		}
		complete_effect = {
			hidden_effect = {
				clr_country_flag = SOV_is_liberation_target_morocco
			}
		}
	}

	SOV_mission_egypt = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			tag = HAW
		}
		available = {
			has_country_flag = SOV_liberated_egypt
		}
		visible = {
			SOV = {
				has_country_flag = SOV_is_liberating_egypt
			}
			FROM = {
				has_country_flag = SOV_is_liberation_target_egypt
			}
		}
		days_mission_timeout = 360
		is_good = no
		timeout_effect = {

		}
		complete_effect = {
			hidden_effect = {
				clr_country_flag = SOV_is_liberation_target_egypt
			}
		}
	}

	SOV_mission_balkan = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			tag = HAW
		}
		available = {
			has_country_flag = SOV_liberated_balkan
		}
		visible = {
			SOV = {
				has_country_flag = SOV_is_liberating_balkan
			}
			FROM = {
				has_country_flag = SOV_is_liberation_target_balkan
			}
		}
		days_mission_timeout = 360
		is_good = no
		timeout_effect = {

		}
		complete_effect = {
			hidden_effect = {
				clr_country_flag = SOV_is_liberation_target_balkan
			}
		}
	}

	SOV_mission_british = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			tag = HAW
		}
		available = {
			has_country_flag = SOV_liberated_uk
		}
		visible = {
			SOV = {
				has_country_flag = SOV_is_liberating_uk
			}
			FROM = {
				has_country_flag = SOV_is_liberation_target_uk
			}
		}
		days_mission_timeout = 360
		is_good = no
		timeout_effect = {

		}
		complete_effect = {
			hidden_effect = {
				clr_country_flag = SOV_is_liberation_target_uk
			}
		}
	}

	SOV_mission_iberia = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			tag = HAW
		}
		available = {
			has_country_flag = SOV_liberated_iberia
		}
		visible = {
			SOV = {
				has_country_flag = SOV_is_liberating_iberia
			}
			FROM = {
				has_country_flag = SOV_is_liberation_target_iberia
			}
		}
		days_mission_timeout = 360
		is_good = no
		timeout_effect = {

		}
		complete_effect = {
			hidden_effect = {
				clr_country_flag = SOV_is_liberation_target_iberia
			}
		}
	}

	SOV_liberation_europe = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			tag = HAW
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_is_liberating_europe
				SOV = {
					NOT = {
						has_country_flag = SOV_is_liberating_europe
					}
				}
			}
		}
		visible = {
			SOV = {
				has_country_flag = SOV_is_liberating_europe
			}
			FROM = {
				has_country_flag = target_europe
			}
		}
		days_mission_timeout = 360
		is_good = no
		timeout_effect = {

		}
	}

	SOV_liberation_africa = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			tag = HAW
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_is_liberating_africa
				SOV = {
					NOT = {
						has_country_flag = SOV_is_liberating_africa
					}
				}
			}
		}
		visible = {
			SOV = {
				has_country_flag = SOV_is_liberating_africa
			}
			FROM = {
				has_country_flag = target_africa
			}
		}
		days_mission_timeout = 360
		is_good = no
		timeout_effect = {

		}
	}

	SOV_liberation_asia = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			tag = HAW
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_is_liberating_asia
				SOV = {
					NOT = {
						has_country_flag = SOV_is_liberating_asia
					}
				}
			}
		}
		visible = {
			SOV = {
				has_country_flag = SOV_is_liberating_asia
			}
			FROM = {
				has_country_flag = target_asia
			}
		}
		days_mission_timeout = 360
		is_good = no
		timeout_effect = {

		}
	}
}

SOV_invite_revolution = {

	SOV_invite_communist_revolution = {

		icon = GFX_generic_political_discourse

		fire_only_once = yes

		days_remove = 10

		allowed = {
			original_tag = SOV
		}

		visible = {
			is_faction_leader = yes
			has_completed_focus = SOV_revolution_to_the_utmost
			any_country = {
				has_country_flag = liberated_by_sov
			}
			has_government = communism
		}

		target_root_trigger = {
			has_completed_focus = SOV_revolution_to_the_utmost
		}

		target_trigger = {
			FROM = {
				NOT = { is_in_faction_with = ROOT }
				has_government = communism
				has_country_flag = liberated_by_sov
			}
        }

		available = {
			OR = {
				has_opinion = {
					target = FROM
					value > 49
				}
				FROM = {
					has_opinion = {
						target = ROOT
						value > 49
					}
				}
			}
			FROM = {
				is_subject = no
				has_government = communism
				NOT = {
					has_war_with = SOV
				}
				NOT = {
					has_idea = SOV_Fight_revolution
				}
			}
		}

		cost = 10

		remove_effect = {
			FROM = {
				country_event = {
					id = soviets.98
				}
			}
		}

		ai_will_do = {
			factor = 100
		}
	}
}

SOV_proclaim_revolution = {

	SOV_triumph_warsaw = {

		icon = GFX_decision_generic_nationalism

		fire_only_once = yes

		cost = 10

		allowed = {
			original_tag = SOV
		}

		visible = {
			has_completed_focus = SOV_consolidate_true_communism
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_triumph_warsaw_tt
				OR = {
					10 = {
						is_owned_and_controlled_by = SOV
					}
					any_allied_country = {
						has_government = communism
						has_full_control_of_state = 10
					}
				}
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_add_1_scale
			add_to_variable = {
			    var = revolution_count
			    value = 1
			}
			subtract_from_variable = {
			    var = revolution_final_count
			    value = 1
			}
			clamp_variable = {
				var = revolution_count
				min = 0
				max = 12
			}
			clamp_variable = {
				var = revolution_final_count
				min = 0
				max = 12
			}
			set_country_flag = SOV_has_conquered_old_city_europe
		}

		ai_will_do = {
			factor = 100
		}
	}

	SOV_triumph_madrid = {

		icon = GFX_decision_generic_nationalism

		fire_only_once = yes

		cost = 10

		allowed = {
			original_tag = SOV
		}

		visible = {
			has_completed_focus = SOV_consolidate_true_communism
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_triumph_madrid_tt
				OR = {
					41 = {
						is_owned_and_controlled_by = SOV
					}
					any_allied_country = {
						has_government = communism
						has_full_control_of_state = 41
					}
				}
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_add_1_scale
			add_to_variable = {
			    var = revolution_count
			    value = 1
			}
			subtract_from_variable = {
			    var = revolution_final_count
			    value = 1
			}
			clamp_variable = {
				var = revolution_count
				min = 0
				max = 12
			}
			clamp_variable = {
				var = revolution_final_count
				min = 0
				max = 12
			}
			set_country_flag = SOV_has_conquered_old_city_europe
		}

		ai_will_do = {
			factor = 100
		}
	}

	SOV_triumph_istanbul = {

		icon = GFX_decision_generic_nationalism

		fire_only_once = yes

		cost = 10

		allowed = {
			original_tag = SOV
		}

		visible = {
			has_completed_focus = SOV_consolidate_true_communism
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_triumph_istanbul_tt
				OR = {
					341 = {
						is_owned_and_controlled_by = SOV
					}
					any_allied_country = {
						has_government = communism
						has_full_control_of_state = 341
					}
				}
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_add_1_scale
			add_to_variable = {
			    var = revolution_count
			    value = 1
			}
			subtract_from_variable = {
			    var = revolution_final_count
			    value = 1
			}
			clamp_variable = {
				var = revolution_count
				min = 0
				max = 12
			}
			clamp_variable = {
				var = revolution_final_count
				min = 0
				max = 12
			}
			set_country_flag = SOV_has_conquered_old_city_europe
		}

		ai_will_do = {
			factor = 100
		}
	}

	SOV_triumph_vienna = {

		icon = GFX_decision_generic_nationalism

		fire_only_once = yes

		cost = 10

		allowed = {
			original_tag = SOV
		}

		visible = {
			has_completed_focus = SOV_consolidate_true_communism
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_triumph_vienna_tt
				OR = {
					4 = {
						is_owned_and_controlled_by = SOV
					}
					any_allied_country = {
						has_government = communism
						has_full_control_of_state = 4
					}
				}
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_add_1_scale
			add_to_variable = {
			    var = revolution_count
			    value = 1
			}
			subtract_from_variable = {
			    var = revolution_final_count
			    value = 1
			}
			clamp_variable = {
				var = revolution_count
				min = 0
				max = 12
			}
			clamp_variable = {
				var = revolution_final_count
				min = 0
				max = 12
			}
			set_country_flag = SOV_has_conquered_old_city_europe
		}

		ai_will_do = {
			factor = 100
		}
	}

	SOV_triumph_paris = {

		icon = GFX_decision_generic_nationalism

		fire_only_once = yes

		cost = 10

		allowed = {
			original_tag = SOV
		}

		visible = {
			has_completed_focus = SOV_consolidate_true_communism
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_triumph_paris_tt
				OR = {
					16 = {
						is_owned_and_controlled_by = SOV
					}
					any_allied_country = {
						has_government = communism
						has_full_control_of_state = 16
					}
				}
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_add_2_scale
			add_to_variable = {
			    var = revolution_count
			    value = 2
			}
			subtract_from_variable = {
			    var = revolution_final_count
			    value = 2
			}
			clamp_variable = {
				var = revolution_count
				min = 0
				max = 12
			}
			clamp_variable = {
				var = revolution_final_count
				min = 0
				max = 12
			}
			set_country_flag = SOV_has_conquered_major_city_europe
		}

		ai_will_do = {
			factor = 100
		}
	}

	SOV_triumph_berlin = {

		icon = GFX_decision_generic_nationalism

		fire_only_once = yes

		cost = 10

		allowed = {
			original_tag = SOV
		}

		visible = {
			has_completed_focus = SOV_consolidate_true_communism
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_triumph_berlin_tt
				OR = {
					64 = {
						is_owned_and_controlled_by = SOV
					}
					any_allied_country = {
						has_government = communism
						has_full_control_of_state = 64
					}
				}
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_add_2_scale
			add_to_variable = {
			    var = revolution_count
			    value = 2
			}
			subtract_from_variable = {
			    var = revolution_final_count
			    value = 2
			}
			clamp_variable = {
				var = revolution_count
				min = 0
				max = 12
			}
			clamp_variable = {
				var = revolution_final_count
				min = 0
				max = 12
			}
			set_country_flag = SOV_has_conquered_major_city_europe
		}

		ai_will_do = {
			factor = 100
		}
	}

	SOV_triumph_rome = {

		icon = GFX_decision_generic_nationalism

		fire_only_once = yes

		cost = 10

		allowed = {
			original_tag = SOV
		}

		visible = {
			has_completed_focus = SOV_consolidate_true_communism
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_triumph_rome_tt
				OR = {
					2 = {
						is_owned_and_controlled_by = SOV
					}
					any_allied_country = {
						has_government = communism
						has_full_control_of_state = 2
					}
				}
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_add_2_scale
			add_to_variable = {
			    var = revolution_count
			    value = 2
			}
			subtract_from_variable = {
			    var = revolution_final_count
			    value = 2
			}
			clamp_variable = {
				var = revolution_count
				min = 0
				max = 12
			}
			clamp_variable = {
				var = revolution_final_count
				min = 0
				max = 12
			}
			set_country_flag = SOV_has_conquered_major_city_europe
		}

		ai_will_do = {
			factor = 100
		}
	}

	SOV_triumph_london = {

		icon = GFX_decision_generic_nationalism

		fire_only_once = yes

		cost = 10

		allowed = {
			original_tag = SOV
		}

		visible = {
			has_completed_focus = SOV_consolidate_true_communism
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_triumph_london_tt
				OR = {
					126 = {
						is_owned_and_controlled_by = SOV
					}
					any_allied_country = {
						has_government = communism
						has_full_control_of_state = 126
					}
				}
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_add_2_scale
			add_to_variable = {
			    var = revolution_count
			    value = 2
			}
			subtract_from_variable = {
			    var = revolution_final_count
			    value = 2
			}
			clamp_variable = {
				var = revolution_count
				min = 0
				max = 12
			}
			clamp_variable = {
				var = revolution_final_count
				min = 0
				max = 12
			}
			set_country_flag = SOV_has_conquered_major_city_europe
		}

		ai_will_do = {
			factor = 100
		}
	}

	SOV_triumph_washington = {

		icon = GFX_decision_generic_nationalism

		fire_only_once = yes

		cost = 10

		allowed = {
			original_tag = SOV
		}

		visible = {
			has_completed_focus = SOV_consolidate_true_communism
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_triumph_washington_tt
				OR = {
					361 = {
						is_owned_and_controlled_by = SOV
					}
					any_allied_country = {
						has_government = communism
						has_full_control_of_state = 361
					}
				}
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_add_2_scale
			add_to_variable = {
			    var = revolution_count
			    value = 2
			}
			subtract_from_variable = {
			    var = revolution_final_count
			    value = 2
			}
			clamp_variable = {
				var = revolution_count
				min = 0
				max = 12
			}
			clamp_variable = {
				var = revolution_final_count
				min = 0
				max = 12
			}
			set_country_flag = SOV_has_conquered_old_city
		}

		ai_will_do = {
			factor = 100
		}
	}

	SOV_triumph_tokyo = {

		icon = GFX_decision_generic_nationalism

		fire_only_once = yes

		cost = 10

		allowed = {
			original_tag = SOV
		}

		visible = {
			has_completed_focus = SOV_consolidate_true_communism
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_triumph_tokyo_tt
				OR = {
					282 = {
						is_owned_and_controlled_by = SOV
					}
					any_allied_country = {
						has_government = communism
						has_full_control_of_state = 282
					}
				}
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_add_2_scale
			add_to_variable = {
			    var = revolution_count
			    value = 2
			}
			subtract_from_variable = {
			    var = revolution_final_count
			    value = 2
			}
			clamp_variable = {
				var = revolution_count
				min = 0
				max = 12
			}
			clamp_variable = {
				var = revolution_final_count
				min = 0
				max = 12
			}
			set_country_flag = SOV_has_conquered_old_city
		}

		ai_will_do = {
			factor = 100
		}
	}

	SOV_triumph_beijing = {

		icon = GFX_decision_generic_nationalism

		fire_only_once = yes

		cost = 10

		allowed = {
			original_tag = SOV
		}

		visible = {
			has_completed_focus = SOV_consolidate_true_communism
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_triumph_beijing_tt
				OR = {
					608 = {
						is_owned_and_controlled_by = SOV
					}
					any_allied_country = {
						has_government = communism
						has_full_control_of_state = 608
					}
				}
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_add_1_scale
			add_to_variable = {
			    var = revolution_count
			    value = 1
			}
			subtract_from_variable = {
			    var = revolution_final_count
			    value = 1
			}
			clamp_variable = {
				var = revolution_count
				min = 0
				max = 12
			}
			clamp_variable = {
				var = revolution_final_count
				min = 0
				max = 12
			}
			set_country_flag = SOV_has_conquered_old_city
		}

		ai_will_do = {
			factor = 100
		}
	}

	SOV_triumph_delhi = {

		icon = GFX_decision_generic_nationalism

		fire_only_once = yes

		cost = 10

		allowed = {
			original_tag = SOV
		}

		visible = {
			has_completed_focus = SOV_consolidate_true_communism
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_triumph_delhi_tt
				OR = {
					439 = {
						is_owned_and_controlled_by = SOV
					}
					any_allied_country = {
						has_government = communism
						has_full_control_of_state = 439
					}
				}
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_add_1_scale
			add_to_variable = {
			    var = revolution_count
			    value = 1
			}
			subtract_from_variable = {
			    var = revolution_final_count
			    value = 1
			}
			clamp_variable = {
				var = revolution_count
				min = 0
				max = 12
			}
			clamp_variable = {
				var = revolution_final_count
				min = 0
				max = 12
			}
			set_country_flag = SOV_has_conquered_old_city
		}

		ai_will_do = {
			factor = 100
		}
	}

	SOV_secure_revolution = {

		icon = generic_civil_support

		fire_only_once = yes

		cost = 50

		allowed = {
			original_tag = SOV
		}

		visible = {
			has_completed_focus = SOV_consolidate_true_communism
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_secure_revolution_tt
				has_country_flag = SOV_has_conquered_old_city_europe
			}
			custom_trigger_tooltip = {
				tooltip = SOV_secure_revolution_tt2
				check_variable = {
					var = revolution_count
					value = 3
					compare = greater_than_or_equals
				}
			}
		}

		complete_effect = {
			add_stability = 0.1
			add_ideas = SOV_Marching_revolution
			set_country_flag = SOV_secured_revolution
		}

		ai_will_do = {
			factor = 100
		}
	}

	SOV_expand_revolution = {

		icon = generic_industry

		fire_only_once = yes

		cost = 50

		allowed = {
			original_tag = SOV
		}

		visible = {
			has_completed_focus = SOV_consolidate_true_communism
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_expand_revolution_tt
				has_country_flag = SOV_secured_revolution
			}
			custom_trigger_tooltip = {
				tooltip = SOV_expand_revolution_tt2
				has_country_flag = SOV_has_conquered_major_city_europe
			}
			custom_trigger_tooltip = {
				tooltip = SOV_expand_revolution_tt3
				check_variable = {
					var = revolution_count
					value = 6
					compare = greater_than_or_equals
				}
			}
		}

		complete_effect = {
			swap_ideas = {
				remove_idea = SOV_Marching_revolution
				add_idea = SOV_Marching_revolution2
			}
			hidden_effect = {
				if = {
					limit = {
						NOT = {
							has_tech = tech_logistics_company
						}
					}
					set_technology = {
						tech_logistics_company = 1
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = tech_signal_company
						}
					}
					set_technology = {
						tech_signal_company = 1
					}
				}
				division_template = {
					name = "Strazhi Revolyutsii"
					priority = 2
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 0 y = 3 }
						artillery_brigade = { x = 0 y = 4 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
						infantry = { x = 1 y = 3 }
						artillery_brigade = { x = 1 y = 4 }
						infantry = { x = 2 y = 0 }
						infantry = { x = 2 y = 1 }
						infantry = { x = 2 y = 2 }
						infantry = { x = 2 y = 3 }
						artillery_brigade = { x = 2 y = 4 }
						infantry = { x = 3 y = 0 }
						infantry = { x = 3 y = 1 }
						artillery_brigade = { x = 3 y = 2 }
					}
					support = {
						artillery = { x = 0 y = 0 }
						logistics_company = { x = 0 y = 1 }
						signal_company = { x = 0 y = 2 }
						mot_recon = { x = 0 y = 3 }
						engineer = { x = 0 y = 4 }
					}
				}
				capital_scope = {
					create_unit = {
						division = "name = \"1st Strazhi Revolyutsii Division\" division_template = \"Strazhi Revolyutsii\" start_experience_factor = 1.0 start_equipment_factor = 1.0"
						owner = SOV
					}
					create_unit = {
						division = "name = \"2nd Strazhi Revolyutsii Division\" division_template = \"Strazhi Revolyutsii\" start_experience_factor = 1.0 start_equipment_factor = 1.0"
						owner = SOV
					}
					create_unit = {
						division = "name = \"3rd Strazhi Revolyutsii Division\" division_template = \"Strazhi Revolyutsii\" start_experience_factor = 1.0 start_equipment_factor = 1.0"
						owner = SOV
					}
					create_unit = {
						division = "name = \"4th Strazhi Revolyutsii Division\" division_template = \"Strazhi Revolyutsii\" start_experience_factor = 1.0 start_equipment_factor = 1.0"
						owner = SOV
					}
					create_unit = {
						division = "name = \"5th Strazhi Revolyutsii Division\" division_template = \"Strazhi Revolyutsii\" start_experience_factor = 1.0 start_equipment_factor = 1.0"
						owner = SOV
					}
				}
			}
			custom_effect_tooltip = SOV_expand_revolution_tt4
			set_country_flag = SOV_expanded_revolution
		}

		ai_will_do = {
			factor = 100
		}
	}

	SOV_last_step_revolution = {

		icon = eng_blackshirt_march

		fire_only_once = yes

		cost = 50

		allowed = {
			original_tag = SOV
		}

		visible = {
			has_completed_focus = SOV_consolidate_true_communism
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_last_step_revolution_tt
				has_country_flag = SOV_expanded_revolution
			}
			custom_trigger_tooltip = {
				tooltip = SOV_last_step_revolution_tt2
				has_country_flag = SOV_has_conquered_old_city
			}
			custom_trigger_tooltip = {
				tooltip = SOV_last_step_revolution_tt3
				check_variable = {
					var = revolution_count
					value = 9
					compare = greater_than_or_equals
				}
			}
		}

		complete_effect = {
			swap_ideas = {
				remove_idea = SOV_Marching_revolution2
				add_idea = SOV_Marching_revolution3
			}
			hidden_effect = {
				if = {
					limit = {
						NOT = {
							has_tech = tech_logistics_company
						}
					}
					set_technology = {
						tech_logistics_company = 1
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = tech_signal_company
						}
					}
					set_technology = {
						tech_signal_company = 1
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = basic_medium_tank
						}
					}
					set_technology = {
						basic_medium_tank  = 1
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = mechanised_infantry
						}
					}
					set_technology = {
						mechanised_infantry = 1
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = armored_car1
						}
					}
					set_technology = {
						armored_car1 = 1
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = rocket_artillery
						}
					}
					set_technology = {
						rocket_artillery = 1
					}
				}
				division_template = {
					name = "Tanki Osvobozhdeniya"
					priority = 2
					regiments = {
						medium_armor = { x = 0 y = 0 }
						medium_armor = { x = 0 y = 1 }
						medium_armor = { x = 0 y = 2 }
						medium_armor = { x = 0 y = 3 }
						medium_armor = { x = 0 y = 4 }
						medium_armor = { x = 1 y = 0 }
						medium_armor = { x = 1 y = 1 }
						medium_armor = { x = 1 y = 2 }
						medium_armor = { x = 1 y = 3 }
						medium_armor = { x = 1 y = 4 }
						mechanized = { x = 2 y = 0 }
						mechanized = { x = 2 y = 1 }
						mechanized = { x = 2 y = 2 }
						mechanized = { x = 2 y = 3 }
						mechanized = { x = 2 y = 4 }
						mechanized = { x = 3 y = 0 }
						mechanized = { x = 3 y = 1 }
						mechanized = { x = 3 y = 2 }
						mechanized = { x = 3 y = 3 }
						mechanized = { x = 3 y = 4 }
					}
					support = {
						rocket_artillery = { x = 0 y = 0 }
						logistics_company = { x = 0 y = 1 }
						signal_company = { x = 0 y = 2 }
						light_tank_recon = { x = 0 y = 3 }
						engineer = { x = 0 y = 4 }
					}
				}
				capital_scope = {
					create_unit = {
						division = "name = \"1st Tanki Osvobozhdeniya Divsion\" division_template = \"Tanki Osvobozhdeniya\" start_experience_factor = 1.0 start_equipment_factor = 1.0"
						owner = SOV
					}
					create_unit = {
						division = "name = \"2nd Tanki Osvobozhdeniya Divsion\" division_template = \"Tanki Osvobozhdeniya\" start_experience_factor = 1.0 start_equipment_factor = 1.0"
						owner = SOV
					}
				}
			}
			custom_effect_tooltip = SOV_last_step_revolution_tt4
			set_country_flag = SOV_last_step_of_revolution
		}

		ai_will_do = {
			factor = 100
		}
	}

	SOV_end_revolution = {

		icon = generic_form_nation

		fire_only_once = yes

		cost = 100

		allowed = {
			original_tag = SOV
		}

		visible = {
			has_completed_focus = SOV_consolidate_true_communism
		}

		available = {
			has_completed_focus = SOV_revolution_to_the_utmost
			custom_trigger_tooltip = {
				tooltip = SOV_end_revolution_tt
				NOT = {
					any_country = {
						is_major = yes
						NOT = {
							has_government = communism
						}
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = SOV_end_revolution_tt2
				has_country_flag =  SOV_last_step_of_revolution
			}
			custom_trigger_tooltip = {
				tooltip = SOV_end_revolution_tt3
				check_variable = {
					var = revolution_count
					value = 12
					compare = greater_than_or_equals
				}
			}
		}

		complete_effect = {
			country_event = soviets.92
			remove_ideas = SOV_Marching_revolution3
			add_ideas = SOV_Dancing_revolution
			custom_effect_tooltip = SOV_end_revolution_tt4
			hidden_effect = {
				add_state_core = 766
				add_state_core = 78
				add_state_core = 80
				add_state_core = 91
				add_state_core = 89
				add_state_core = 93
				add_state_core = 94
				add_state_core = 95
				add_state_core = 96
				add_state_core = 784
				add_state_core = 11
				add_state_core = 189
				add_state_core = 188
				add_state_core = 12
				add_state_core = 190
				add_state_core = 191
				add_state_core = 13
				add_state_core = 146
				add_state_core = 147
				add_state_core = 722
				add_state_core = 330
				add_state_core = 537
				add_state_claim = 463
				add_state_claim = 341
				add_state_claim = 10
				add_state_claim = 64
				add_state_claim = 42
				add_state_claim = 16
				add_state_claim = 126
				add_state_claim = 2
				add_state_claim = 41
				add_state_claim = 4
				add_state_claim = 608
				add_state_claim = 282
				add_state_claim = 439
				add_state_claim = 361
			}
			set_country_flag = SOV_ended_revolution
		}

		ai_will_do = {
			factor = 100
		}
	}
}

SOV_invest_russian_sphere = {
	SOV_invest_russian_sphere_europe = {

		icon = GFX_decision_generic_construction

		days_remove = 120

		allowed = {
			original_tag = SOV
		}

		visible = {
			FROM = {
				has_country_flag = democratic_russia_chaos_europe
			}
		}

		target_root_trigger = {
			has_completed_focus = SOV_investment_russian_sphere
		}

		target_trigger = {
			FROM = {
				has_country_flag = democratic_russia_chaos_europe
			}
        }

		available = {
			FROM = {
				is_subject_of = ROOT
			}
			if = {
				limit = {
					FROM = {
						check_variable = {
							var = russian_investment@FROM
							value = 0
							compare = equals
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = russian_sphere_no_investment
					FROM = {
						check_variable = {
							var = russian_investment@FROM
							value = 3
							compare = less_than
						}
					}
				}
			}
			else_if = {
				limit = {
					FROM = {
						check_variable = {
							var = russian_investment@FROM
							value = 1
							compare = equals
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = russian_sphere_low_investment
					FROM = {
						check_variable = {
							var = russian_investment@FROM
							value = 3
							compare = less_than
						}
					}
				}
			}
			else_if = {
				limit = {
					FROM = {
						check_variable = {
							var = russian_investment@FROM
							value = 2
							compare = equals
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = russian_sphere_medium_investment
					FROM = {
						check_variable = {
							var = russian_investment@FROM
							value = 3
							compare = less_than
						}
					}
				}
			}
			else_if = {
				limit = {
					FROM = {
						check_variable = {
							var = russian_investment@FROM
							value = 3
							compare = equals
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = russian_sphere_high_investment
					FROM = {
						check_variable = {
							var = russian_investment@FROM
							value = 3
							compare = less_than
						}
					}
				}
			}
		}

		cost = 30

		remove_effect = {
			FROM = {
				random_owned_state = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				random_owned_state = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				add_to_variable = {
					var = russian_investment@FROM
					value = 1
				}
			}
			add_to_variable = {
				var = sov_total_investment
				value = 1
			}
		}

		ai_will_do = {
			factor = 100
		}
	}

	SOV_invest_russian_sphere_asia = {

		icon = GFX_decision_generic_construction

		days_remove = 80

		allowed = {
			original_tag = SOV
		}

		visible = {
			FROM = {
				has_country_flag = democratic_russia_chaos_asia
			}
		}

		target_root_trigger = {
			has_completed_focus = SOV_investment_russian_sphere
		}

		target_trigger = {
			FROM = {
				has_country_flag = democratic_russia_chaos_asia
			}
        }

		available = {
			FROM = {
				is_subject_of = ROOT
			}
			if = {
				limit = {
					FROM = {
						check_variable = {
							var = russian_investment@FROM
							value = 0
							compare = equals
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = russian_sphere_no_investment
					FROM = {
						check_variable = {
							var = russian_investment@FROM
							value = 3
							compare = less_than
						}
					}
				}
			}
			else_if = {
				limit = {
					FROM = {
						check_variable = {
							var = russian_investment@FROM
							value = 1
							compare = equals
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = russian_sphere_low_investment
					FROM = {
						check_variable = {
							var = russian_investment@FROM
							value = 3
							compare = less_than
						}
					}
				}
			}
			else_if = {
				limit = {
					FROM = {
						check_variable = {
							var = russian_investment@FROM
							value = 2
							compare = equals
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = russian_sphere_medium_investment
					FROM = {
						check_variable = {
							var = russian_investment@FROM
							value = 3
							compare = less_than
						}
					}
				}
			}
			else_if = {
				limit = {
					FROM = {
						check_variable = {
							var = russian_investment@FROM
							value = 3
							compare = equals
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = russian_sphere_high_investment
					FROM = {
						check_variable = {
							var = russian_investment@FROM
							value = 3
							compare = less_than
						}
					}
				}
			}
		}

		cost = 20

		remove_effect = {
			FROM = {
				random_owned_state = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
				random_owned_state = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				add_to_variable = {
					var = russian_investment@FROM
					value = 1
				}
			}
			add_to_variable = {
				var = sov_total_investment
				value = 1
			}
		}

		ai_will_do = {
			factor = 100
		}
	}

	SOV_invest_russian_sphere_caucasus = {

		icon = GFX_decision_generic_construction

		days_remove = 60

		allowed = {
			original_tag = SOV
		}

		visible = {
			FROM = {
				has_country_flag = democratic_russia_chaos_caucasus
			}
		}

		target_root_trigger = {
			has_completed_focus = SOV_investment_russian_sphere
		}

		target_trigger = {
			FROM = {
				has_country_flag = democratic_russia_chaos_caucasus
			}
        }

		available = {
			FROM = {
				is_subject_of = ROOT
			}
			if = {
				limit = {
					FROM = {
						check_variable = {
							var = russian_investment@FROM
							value = 0
							compare = equals
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = russian_sphere_no_investment
					FROM = {
						check_variable = {
							var = russian_investment@FROM
							value = 3
							compare = less_than
						}
					}
				}
			}
			else_if = {
				limit = {
					FROM = {
						check_variable = {
							var = russian_investment@FROM
							value = 1
							compare = equals
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = russian_sphere_low_investment
					FROM = {
						check_variable = {
							var = russian_investment@FROM
							value = 3
							compare = less_than
						}
					}
				}
			}
			else_if = {
				limit = {
					FROM = {
						check_variable = {
							var = russian_investment@FROM
							value = 2
							compare = equals
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = russian_sphere_medium_investment
					FROM = {
						check_variable = {
							var = russian_investment@FROM
							value = 3
							compare = less_than
						}
					}
				}
			}
			else_if = {
				limit = {
					FROM = {
						check_variable = {
							var = russian_investment@FROM
							value = 3
							compare = equals
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = russian_sphere_high_investment
					FROM = {
						check_variable = {
							var = russian_investment@FROM
							value = 3
							compare = less_than
						}
					}
				}
			}
		}

		cost = 10

		remove_effect = {
			FROM = {
				random_owned_state = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
				random_owned_state = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				add_to_variable = {
					var = russian_investment@FROM
					value = 1
				}
			}
			add_to_variable = {
				var = sov_total_investment
				value = 1
			}
		}

		ai_will_do = {
			factor = 100
		}
	}
}

SOV_the_second_civil_war_fn = {

	SOV_second_civil_war_fn = {

		icon = GFX_decision_generic_nationalism

		allowed = {
			tag = SOV
		}
		available = {
			has_civil_war = yes
			has_completed_focus = SOV_second_civil_war
		}
		activation = {
			has_country_flag = second_civil_war_mission
		}
		days_mission_timeout = 140
		is_good = no
		timeout_effect = {

		}
		complete_effect = {

		}
	}

	SOV_relocate_civ_industry = {

		icon = GFX_decision_hol_attract_foreign_investors

		allowed = {
			tag = SOV
		}
		available = {
			has_civil_war = no
		}
		visible = {
			has_country_flag = second_civil_war_mission
		}

		ai_will_do = {
			factor = 10
		}

		cost = 10

		days_remove = 15
		remove_effect = {

		}

		complete_effect = {
			custom_effect_tooltip = SOV_relocate_civ_industry_tt
			hidden_effect = {
				random_owned_state = {
					limit = {
						industrial_complex > 0
						NOT = {
							has_state_flag = white_province
						}
					}
					remove_building = {
						type = industrial_complex
						level = 1
					}
				}
				random_owned_state = {
					limit = {
						has_state_flag = white_province
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	SOV_relocate_arms_industry = {

		icon = GFX_decision_ger_military_buildup

		allowed = {
			tag = SOV
		}
		available = {
			has_civil_war = no
		}
		visible = {
			has_country_flag = second_civil_war_mission
		}

		ai_will_do = {
			factor = 10
		}

		cost = 15

		days_remove = 10
		remove_effect = {

		}

		complete_effect = {
			custom_effect_tooltip = SOV_relocate_arms_industry_tt
			hidden_effect = {
				random_owned_state = {
					limit = {
						arms_factory > 0
						NOT = {
							has_state_flag = white_province
						}
					}
					remove_building = {
						type = arms_factory
						level = 1
					}
				}
				random_owned_state = {
					limit = {
						has_state_flag = white_province
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	SOV_buy_weapons = {

		icon = GFX_decision_generic_industry

		allowed = {
			tag = SOV
		}
		available = {
			has_civil_war = no
			custom_trigger_tooltip = {
				tooltip = SOV_buy_weapons_tt
				check_variable = {
					var = buy_weapons_count
					value = 6
					compare = less_than_or_equals
				}
			}
		}
		visible = {
			has_country_flag = second_civil_war_mission
		}

		ai_will_do = {
			factor = 10
		}

		cost = 25

		days_remove = 30
		remove_effect = {

		}

		complete_effect = {
			custom_effect_tooltip = buy_weapons
			set_country_flag = buy_weaps
			add_to_variable = {
				var = buy_weapons_count
				value = 1
			}
			add_to_variable = {
				var = buy_weapons_final_count
				value = 2500
			}
		}
	}

	SOV_sympathize_with_ukraine = {

		icon = GFX_decision_generic_political_discourse

		allowed = {
			TAG = SOV
		}
		available = {
			has_civil_war = no
		}
		visible = {
			has_country_flag = second_civil_war_mission
		}

		ai_will_do = {
			factor = 11
		}

		fire_only_once = yes

		cost = 75

		complete_effect = {
			custom_effect_tooltip = sympathize_with_ukraine_civil_war_tt
			hidden_effect = {
				set_country_flag = sympathize_with_ukraine
			}
		}

	}

	SOV_take_control_caucasus = {

		icon = GFX_decision_infiltrate_state

		allowed = {
			TAG = SOV
		}
		available = {
			has_civil_war = no
		}
		visible = {
			has_country_flag = second_civil_war_mission
		}

		ai_will_do = {
			factor = 11
		}

		fire_only_once = yes

		cost = 50

		complete_effect = {
			custom_effect_tooltip = control_caucasus_civil_war_tt
			hidden_effect = {
				233 = {
					clr_state_flag = not_white_province
					set_state_flag = white_province
				}
				232 = {
					clr_state_flag = not_white_province
					set_state_flag = white_province
				}
				235 = {
					clr_state_flag = not_white_province
					set_state_flag = white_province
				}
				234 = {
					clr_state_flag = not_white_province
					set_state_flag = white_province
				}
				set_country_flag = control_caucasus
			}
		}
	}

	SOV_take_control_central_asia = {

		icon = GFX_decision_infiltrate_state

		allowed = {
			TAG = SOV
		}
		available = {
			has_civil_war = no
		}
		visible = {
			has_country_flag = second_civil_war_mission
		}

		ai_will_do = {
			factor = 11
		}

		fire_only_once = yes

		cost = 40

		complete_effect = {
			custom_effect_tooltip = control_central_asia_civil_war_tt
			hidden_effect = {
				set_country_flag = control_central_asia
			}
		}

	}

	SOV_take_control_belarus = {

		icon = GFX_decision_infiltrate_state

		allowed = {
			TAG = SOV
		}
		available = {
			has_civil_war = no
		}
		visible = {
			has_country_flag = second_civil_war_mission
		}

		ai_will_do = {
			factor = 11
		}

		fire_only_once = yes

		cost = 25

		complete_effect = {
			custom_effect_tooltip = control_belarus_civil_war_tt
			hidden_effect = {
				set_country_flag = control_belarus
			}
		}

	}

	SOV_sabotage_military_industries = {

		icon = GFX_decision_generic_scorched_earth

		allowed = {
			tag = SOV
		}
		available = {
			has_civil_war = no
			command_power > 25
		}
		visible = {
			has_country_flag = second_civil_war_mission
			all_of = {
				array = sabotage_military_count
				value = current
				index = i

				set_temp_variable = { sabotage_count = i }
				check_variable = {
					var = sabotage_count
					value = 4
					compare = less_than
				}
			}
		}

		ai_will_do = {
			factor = 9
		}

		cost = 0

		days_remove = 20
		remove_effect = {

		}

		complete_effect = {
			add_to_array = { sabotage_military_count = 1 }
			custom_effect_tooltip = sabotage_military
			hidden_effect = {
				add_command_power = -25
			}
			set_country_flag = sabotage_mils
		}
	}

	SOV_sabotage_civilian_industries = {

		icon = GFX_decision_generic_scorched_earth

		allowed = {
			tag = SOV
		}
		available = {
			has_civil_war = no
			command_power > 25
		}
		visible = {
			has_country_flag = second_civil_war_mission
			all_of = {
				array = sabotage_civilian_count
				value = current
				index = i

				set_temp_variable = { sabotage_count = i }
				check_variable = {
					var = sabotage_count
					value = 4
					compare = less_than
				}
			}
		}

		ai_will_do = {
			factor = 9
		}

		cost = 0

		days_remove = 20
		remove_effect = {

		}

		complete_effect = {
			add_to_array = { sabotage_civilian_count = 1 }
			custom_effect_tooltip = sabotage_civilian
			hidden_effect = {
				add_command_power = -25
			}
			set_country_flag = sabotage_civs
		}
	}

	SOV_steal_weapons = {

		icon = GFX_decision_generic_intelligence_operation

		allowed = {
			tag = SOV
		}
		available = {
			has_civil_war = no
			command_power > 20
			custom_trigger_tooltip = {
				tooltip = SOV_steal_weapons_tt
				check_variable = {
					var = steal_weapons_count
					value = 6
					compare = less_than
				}
			}
		}
		visible = {
			has_country_flag = second_civil_war_mission
		}

		ai_will_do = {
			factor = 10
		}

		cost = 0

		days_remove = 20
		remove_effect = {

		}

		complete_effect = {
			add_to_variable = {
				var = steal_weapons_count
				value = 1
			}
			add_to_variable = {
				var = steal_weapons_final_count
				value = 1000
			}
			custom_effect_tooltip = steal_weapons
			hidden_effect = {
				add_command_power = -20
			}
			set_country_flag = steal_weaps
		}
	}

	SOV_train_caucasus_soldiers = {

		icon = GFX_decision_generic_army_support

		allowed = {
			tag = SOV
		}
		available = {
			has_country_flag = control_caucasus
			has_civil_war = no
			command_power > 75
		}
		visible = {
			has_country_flag = second_civil_war_mission
		}

		ai_will_do = {
			factor = 11
		}

		fire_only_once = yes

		cost = 0

		days_remove = 20
		remove_effect = {

		}

		complete_effect = {
			custom_effect_tooltip = train_caucasian_soldiers
			hidden_effect = {
				add_command_power = -75
				set_country_flag = train_caucasian_soldiers_civil_war
			}
		}
	}

	SOV_train_elite_unit = {

		icon = GFX_decision_generic_army_support

		allowed = {
			tag = SOV
		}
		available = {
			has_civil_war = no
			command_power > 75
		}
		visible = {
			has_country_flag = second_civil_war_mission
		}

		ai_will_do = {
			factor = 11
		}

		fire_only_once = yes

		cost = 0

		days_remove = 20
		remove_effect = {

		}

		complete_effect = {
			custom_effect_tooltip = SOV_train_elite_unit_tt
			hidden_effect = {
				add_command_power = -75
				set_country_flag = train_elite_soldiers_civil_war
			}
		}
	}

	SOV_soviet_declaration = {

		icon = GFX_decision_generic_ignite_civil_war

		allowed = {
			tag = SOV
		}
		available = {
			has_civil_war = yes
		}
		activation = {
			has_country_flag = preparation_done
		}
		days_mission_timeout = 5
		is_good = no
		timeout_effect = {
			SOV = {
				country_event = { id = soviets.131 }
			}
		}
		complete_effect = {

		}
	}
}

SOV_deal_with_britain = {
	SOV_air_raid_british_ships = {

		icon = GFX_decision_generic_intelligence_operation

		allowed = {
			tag = SOV
		}
		available = {
			has_full_control_of_state = 195
		}

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			custom_effect_tooltip = sov_air_raid_use_mil_tt
			hidden_effect = {
				random_owned_state = {
					limit = {
						arms_factory > 0
						NOT = {
							has_state_flag = give_back_mil_after_air_raid
						}
					}
					remove_building = {
						type = arms_factory
						level = 1
					}
					set_state_flag = give_back_mil_after_air_raid
				}
				random_owned_state = {
					limit = {
						arms_factory > 0
						NOT = {
							has_state_flag = give_back_mil_after_air_raid
						}
					}
					remove_building = {
						type = arms_factory
						level = 1
					}
					set_state_flag = give_back_mil_after_air_raid
				}
				random_owned_state = {
					limit = {
						arms_factory > 0
						NOT = {
							has_state_flag = give_back_mil_after_air_raid
						}
					}
					remove_building = {
						type = arms_factory
						level = 1
					}
					set_state_flag = give_back_mil_after_air_raid
				}
				random_owned_state = {
					limit = {
						arms_factory > 0
						NOT = {
							has_state_flag = give_back_mil_after_air_raid
						}
					}
					remove_building = {
						type = arms_factory
						level = 1
					}
					set_state_flag = give_back_mil_after_air_raid
				}
			}
		}

		cost = 100

		days_remove = 60

		remove_effect = {
			ENG = {
				country_event = { id = soviets.126 days = 1 }
			}
			set_country_flag = dealt_with_britain
			hidden_effect = {
				every_state = {
					limit = {
						has_state_flag = give_back_mil_after_air_raid
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	SOV_last_british_ultimatum = {

		icon = GFX_decision_generic_intelligence_operation

		allowed = {
			tag = SOV
		}

		ai_will_do = {
			factor = 0
		}

		cost = 50

		complete_effect = {
			ENG = {
				country_event = { id = soviets.128 days = 1 }
			}
			set_country_flag = dealt_with_britain
			custom_effect_tooltip = will_war_with_uk_if_fail_tt
		}
	}
}

SOV_expand_entente_decision = {
	SOV_invite_old_entente = {

		icon = GFX_decision_eng_trade_unions_support

		fire_only_once = yes

		days_remove = 10

		allowed = {
			original_tag = SOV
		}

		visible = {
			FROM = {
				exists = yes
			}
		}

		target_root_trigger = {
			has_completed_focus = SOV_reform_entente
		}

		target_trigger = {
			FROM = {
				NOT = { is_in_faction_with = ROOT }
				OR = {
					tag = ENG
					tag = USA
					tag = JAP
					tag = ITA
					tag = SER
					tag = MNT
					tag = BEL
					tag = SAU
					tag = POR
					tag = ROM
					tag = GRE
					tag = CHI
					tag = SIA
					tag = BRA
				}
			}
        }

		available = {
			OR = {
				has_opinion = {
					target = FROM
					value > 49
				}
				FROM = {
					has_opinion = {
						target = ROOT
						value > 49
					}
				}
			}
			FROM = {
				is_subject = no
				OR = {
					has_government = democratic
					has_government = neutrality
				}
				NOT = {
					has_war_with = SOV
				}
			}
			if = {
				limit = {
					FROM = {
						tag = ENG
					}
				}
				NOT = {
					ENG = {
						has_country_flag = cut_all_diplomatic_ties_with_sov
					}
					has_idea = SOV_Blockaded_by_eng
				}
			}
			if = {
				limit = {
					FROM = {
						tag = USA
					}
				}
				has_war_support > 0.5
			}
			if = {
				limit = {
					FROM = {
						tag = CHI
					}
				}
				NOT = {
					has_war_with = JAP
				}
			}
		}

		cost = 50

		remove_effect = {
			FROM = {
				country_event = {
					id = soviets.154
				}
			}
		}

		ai_will_do = {
			factor = 100
		}
	}
}

SOV_perpetual_defense_liberty_decisions = {
	SOV_demand_change_government = {

		icon = GFX_decision_eng_trade_unions_support

		fire_only_once = yes

		days_remove = 30

		allowed = {
			original_tag = SOV
		}

		visible = {
			FROM = {
				exists = yes
			}
		}

		target_root_trigger = {
			has_completed_focus = SOV_perpetual_defense_liberty
		}

		target_trigger = {
			FROM = {
				NOT = {
					is_in_faction_with = ROOT
					has_government = democratic
					tag = POL
					tag = LIT
					tag = LAT
					tag = EST
					tag = ROM
				}
				is_neighbor_of = SOV
			}
    }

		available = {
			NOT = {
				has_country_flag = is_changing_foreign_government
			}
			FROM = {
				is_subject = no
				NOT = {
					has_government = democratic
				}
				NOT = {
					has_war_with = SOV
				}
			}
		}

		complete_effect = {
			set_country_flag = is_changing_foreign_government
		}

		cost = 50

		remove_effect = {
			FROM = {
				country_event = {
					id = soviets.170
				}
			}
			clr_country_flag = is_changing_foreign_government
		}

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 10
				FROM = {
					is_major = yes
				}
			}
		}
	}
}

SOV_control_of_church = {
  SOV_change_church_control_base = {

		icon = GFX_decision_hol_war_on_pacifism

		allowed = {
			original_tag = SOV
		}

		visible = {
			NOT = {
        has_idea = SOV_Church_power_1
      }
		}

		available = {

		}

		complete_effect = {
			clr_country_flag = church_last_reform
      set_country_flag = church_last_reform
      if = {
        limit = {
          has_idea = SOV_Church_power_2
        }
        swap_ideas = {
          remove_idea = SOV_Church_power_2
          add_idea = SOV_Church_power_1
        }
      }
      else_if = {
        limit = {
          has_idea = SOV_Church_power_3
        }
        swap_ideas = {
          remove_idea = SOV_Church_power_3
          add_idea = SOV_Church_power_1
        }
      }
      else_if = {
        limit = {
          has_idea = SOV_Church_power_4
        }
        swap_ideas = {
          remove_idea = SOV_Church_power_4
          add_idea = SOV_Church_power_1
        }
      }
		}

		cost = 25

		ai_will_do = {
			factor = 100
		}
	}

  SOV_change_church_control_stability = {

		icon = GFX_decision_hol_attract_foreign_investors

		allowed = {
			original_tag = SOV
		}

		visible = {
			NOT = {
				has_idea = SOV_Church_power_2
			}
		}

		available = {

		}

		complete_effect = {
			clr_country_flag = church_last_reform
      		set_country_flag = church_last_reform
      		if = {
        		limit = {
          			has_idea = SOV_Church_power_1
        		}
        		swap_ideas = {
          			remove_idea = SOV_Church_power_1
          			add_idea = SOV_Church_power_2
        		}
      		}
	      	else_if = {
		        limit = {
		          has_idea = SOV_Church_power_3
		        }
		        swap_ideas = {
		          remove_idea = SOV_Church_power_3
		          add_idea = SOV_Church_power_2
		        }
	      	}
	      	else_if = {
		        limit = {
		          has_idea = SOV_Church_power_4
		        }
		        swap_ideas = {
		          remove_idea = SOV_Church_power_4
		          add_idea = SOV_Church_power_2
		        }
	      	}
		}

		cost = 50

		ai_will_do = {
			factor = 100
		}
	}

  SOV_change_church_control_war = {

		icon = GFX_decision_eng_propaganda_campaigns

		allowed = {
			original_tag = SOV
		}

		visible = {
			NOT = {
        		has_idea = SOV_Church_power_3
      		}
		}

		available = {

		}

		complete_effect = {
			clr_country_flag = church_last_reform
      		set_country_flag = church_last_reform
	      	if = {
		        limit = {
		          has_idea = SOV_Church_power_1
		        }
		        swap_ideas = {
		          remove_idea = SOV_Church_power_1
		          add_idea = SOV_Church_power_3
		        }
	      	}
	      	else_if = {
		        limit = {
		          has_idea = SOV_Church_power_2
		        }
		        swap_ideas = {
		          remove_idea = SOV_Church_power_2
		          add_idea = SOV_Church_power_3
		        }
	      	}
	      	else_if = {
		        limit = {
		          has_idea = SOV_Church_power_4
		        }
		        swap_ideas = {
		          remove_idea = SOV_Church_power_4
		          add_idea = SOV_Church_power_3
		        }
	      	}
		}

		cost = 50

		ai_will_do = {
			factor = 100
		}
	}

  SOV_change_church_control_military = {

		icon = GFX_decision_eng_support_imperialist_coup

		allowed = {
			original_tag = SOV
		}

		visible = {
			NOT = {
        		has_idea = SOV_Church_power_4
      		}
		}

		available = {

		}

		complete_effect = {
			clr_country_flag = church_last_reform
      		set_country_flag = church_last_reform
      		if = {
		        limit = {
		          has_idea = SOV_Church_power_1
		        }
		        swap_ideas = {
		          remove_idea = SOV_Church_power_1
		          add_idea = SOV_Church_power_4
		        }
      		}
      		else_if = {
		        limit = {
		          has_idea = SOV_Church_power_2
		        }
		        swap_ideas = {
		          remove_idea = SOV_Church_power_2
		          add_idea = SOV_Church_power_4
		        }
      		}
	      	else_if = {
		        limit = {
		          has_idea = SOV_Church_power_3
		        }
		        swap_ideas = {
		          remove_idea = SOV_Church_power_3
		          add_idea = SOV_Church_power_4
		        }
      		}
		}

		cost = 75

		ai_will_do = {
			factor = 100
		}
	}
}

SOV_destroy_communist_resistance = {

	SOV_send_recon_team_central_russia = {

		icon = GFX_decision_generic_intelligence_operation

		allowed = {
			original_tag = SOV
		}

		available = {
			command_power > 25
		}

		visible = {
			has_idea = SOV_Communist_resistance3
			has_country_flag = central_russia_claims
			has_completed_focus = SOV_destroy_communist
		}

		highlight_state_targets = {
			state = 254
		}

		ai_will_do = {
			factor = 15
		}

		cost = 0

		days_remove = 30

		remove_effect = {
			set_temp_variable = { random_factor = 0 }
			randomize_temp_variable = {
				var = random_factor
				distribution = uniform
				min = 0
				max = 100
			}
			round_variable = random_factor
			hidden_effect = {
				if = {
					limit = {
						check_variable = {
						    var = random_factor
						    value = 40
						    compare = less_than_or_equals
						}
					}
					SOV = {
						country_event = { id = soviets.199 hours = 2 }
					}
				}
				else = {
					SOV = {
						country_event = { id = soviets.200 hours = 2 }
					}
				}
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_send_recon_team_central_russia_tt
			hidden_effect = {
				add_command_power = -25
			}
		}
	}

	SOV_raid_communist_hideout_central_russia = {

		icon = GFX_decision_generic_prepare_civil_war

		allowed = {
			original_tag = SOV
		}

		available = {
			has_equipment = {
				infantry_equipment > 4999
			}
		}

		visible = {
			has_idea = SOV_Communist_resistance3
			has_country_flag = central_russia_raids
			has_completed_focus = SOV_destroy_communist
		}

		highlight_state_targets = {
			state = 254
		}

		ai_will_do = {
			factor = 15
		}

		cost = 0

		days_remove = 20

		remove_effect = {
			hidden_effect = {
				SOV = {
					add_state_core = 223
					add_state_core = 222
					add_state_core = 220
					add_state_core = 240
					add_state_core = 260
					add_state_core = 258
					add_state_core = 257
					add_state_core = 255
					add_state_core = 254
					clr_country_flag = central_russia_raids
					set_country_flag = central_russia_done
				}
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_raid_communist_hideout_central_russia_tt
			SOV = {
				add_popularity = {
					ideology = communism
					popularity = -0.05
				}
			}
			hidden_effect = {
				SOV = {
					add_equipment_to_stockpile = {
						type = infantry_equipment
						amount = -5000
					}
				}
			}
		}
	}

	SOV_send_recon_team_kuban_region = {

		icon = GFX_decision_generic_intelligence_operation

		allowed = {
			original_tag = SOV
		}

		available = {
			command_power > 25
		}

		visible = {
			has_idea = SOV_Communist_resistance3
			has_country_flag = kuban_region_claims
			has_completed_focus = SOV_destroy_communist
		}

		highlight_state_targets = {
			state = 235
		}

		ai_will_do = {
			factor = 15
		}

		cost = 0

		days_remove = 30

		remove_effect = {
			set_temp_variable = { random_factor = 0 }
			randomize_temp_variable = {
				var = random_factor
				distribution = uniform
				min = 0
				max = 100
			}
			round_variable = random_factor
			hidden_effect = {
				if = {
					limit = {
						check_variable = {
						    var = random_factor
						    value = 50
						    compare = less_than_or_equals
						}
					}
					SOV = {
						country_event = { id = soviets.201 hours = 2 }
					}
				}
				else = {
					SOV = {
						country_event = { id = soviets.200 hours = 2 }
					}
				}
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_send_recon_team_kuban_region_tt
			hidden_effect = {
				add_command_power = -25
			}
		}
	}

	SOV_raid_communist_hideout_kuban_region = {

		icon = GFX_decision_generic_prepare_civil_war

		allowed = {
			original_tag = SOV
		}

		available = {
			has_equipment = {
				infantry_equipment > 2499
			}
		}

		visible = {
			has_idea = SOV_Communist_resistance3
			has_country_flag = kuban_region_raids
			has_completed_focus = SOV_destroy_communist
		}

		highlight_state_targets = {
			state = 235
		}

		ai_will_do = {
			factor = 15
		}

		cost = 0

		days_remove = 20

		remove_effect = {
			hidden_effect = {
				SOV = {
					add_state_core = 218
					add_state_core = 234
					add_state_core = 235
					add_state_core = 232
					add_state_core = 238
					add_state_core = 237
					add_state_core = 236
					clr_country_flag = kuban_region_raids
					set_country_flag = kuban_region_done
				}
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_raid_communist_hideout_kuban_region_tt
			SOV = {
				add_popularity = {
					ideology = communism
					popularity = -0.05
				}
			}
			hidden_effect = {
				SOV = {
					add_equipment_to_stockpile = {
						type = infantry_equipment
						amount = -2500
					}
				}
			}
		}
	}

	SOV_send_recon_team_transvolga_region = {

		icon = GFX_decision_generic_intelligence_operation

		allowed = {
			original_tag = SOV
		}

		available = {
			command_power > 25
		}

		visible = {
			has_idea = SOV_Communist_resistance3
			has_country_flag = transvolga_region_claims
			has_completed_focus = SOV_destroy_communist
		}

		highlight_state_targets = {
			state = 399
		}

		ai_will_do = {
			factor = 15
		}

		cost = 0

		days_remove = 30

		remove_effect = {
			set_temp_variable = { random_factor = 0 }
			randomize_temp_variable = {
				var = random_factor
				distribution = uniform
				min = 0
				max = 100
			}
			round_variable = random_factor
			hidden_effect = {
				if = {
					limit = {
						check_variable = {
						    var = random_factor
						    value = 40
						    compare = less_than_or_equals
						}
					}
					SOV = {
						country_event = { id = soviets.202 hours = 2 }
					}
				}
				else = {
					SOV = {
						country_event = { id = soviets.200 hours = 2 }
					}
				}
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_send_recon_team_transvolga_region_tt
			hidden_effect = {
				add_command_power = -25
			}
		}
	}

	SOV_raid_communist_hideout_transvolga_region = {

		icon = GFX_decision_generic_prepare_civil_war

		allowed = {
			original_tag = SOV
		}

		available = {
			has_equipment = {
				infantry_equipment > 2499
			}
		}

		visible = {
			has_idea = SOV_Communist_resistance3
			has_country_flag = transvolga_region_raids
			has_completed_focus = SOV_destroy_communist
		}

		highlight_state_targets = {
			state = 399
		}

		ai_will_do = {
			factor = 15
		}

		cost = 0

		days_remove = 20

		remove_effect = {
			hidden_effect = {
				SOV = {
					add_state_core = 250
					add_state_core = 256
					add_state_core = 249
					add_state_core = 400
					add_state_core = 399
					add_state_core = 651
					add_state_core = 398
					clr_country_flag = transvolga_region_raids
					set_country_flag = transvolga_region_done
				}
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_raid_communist_hideout_transvolga_region_tt
			SOV = {
				add_popularity = {
					ideology = communism
					popularity = -0.05
				}
			}
			hidden_effect = {
				SOV = {
					add_equipment_to_stockpile = {
						type = infantry_equipment
						amount = -2500
					}
				}
			}
		}
	}

	SOV_send_recon_team_urals_region = {

		icon = GFX_decision_generic_intelligence_operation

		allowed = {
			original_tag = SOV
		}

		available = {
			command_power > 25
		}

		visible = {
			has_idea = SOV_Communist_resistance3
			has_country_flag = urals_region_claims
			has_completed_focus = SOV_destroy_communist
		}

		highlight_state_targets = {
			state = 573
		}

		ai_will_do = {
			factor = 15
		}

		cost = 0

		days_remove = 30

		remove_effect = {
			set_temp_variable = { random_factor = 0 }
			randomize_temp_variable = {
				var = random_factor
				distribution = uniform
				min = 0
				max = 100
			}
			round_variable = random_factor
			hidden_effect = {
				if = {
					limit = {
						check_variable = {
						    var = random_factor
						    value = 60
						    compare = less_than_or_equals
						}
					}
					SOV = {
						country_event = { id = soviets.203 hours = 2 }
					}
				}
				else = {
					SOV = {
						country_event = { id = soviets.200 hours = 2 }
					}
				}
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_send_recon_team_urals_region_tt
			hidden_effect = {
				add_command_power = -25
			}
		}
	}

	SOV_raid_communist_hideout_urals_region = {

		icon = GFX_decision_generic_prepare_civil_war

		allowed = {
			original_tag = SOV
		}

		available = {
			has_equipment = {
				infantry_equipment > 999
			}
		}

		visible = {
			has_idea = SOV_Communist_resistance3
			has_country_flag = urals_region_raids
			has_completed_focus = SOV_destroy_communist
		}

		highlight_state_targets = {
			state = 573
		}

		ai_will_do = {
			factor = 15
		}

		cost = 0

		days_remove = 20

		remove_effect = {
			hidden_effect = {
				SOV = {
					add_state_core = 582
					add_state_core = 573
					add_state_core = 581
					clr_country_flag = urals_region_raids
					set_country_flag = urals_region_done
				}
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_raid_communist_hideout_urals_region_tt
			SOV = {
				add_popularity = {
					ideology = communism
					popularity = -0.05
				}
			}
			hidden_effect = {
				SOV = {
					add_equipment_to_stockpile = {
						type = infantry_equipment
						amount = -1000
					}
				}
			}
		}
	}

	SOV_send_recon_team_artic_region = {

		icon = GFX_decision_generic_intelligence_operation

		allowed = {
			original_tag = SOV
		}

		available = {
			command_power > 25
		}

		visible = {
			has_idea = SOV_Communist_resistance3
			has_country_flag = artic_region_claims
			has_completed_focus = SOV_destroy_communist
		}

		highlight_state_targets = {
			state = 214
		}

		ai_will_do = {
			factor = 15
		}

		cost = 0

		days_remove = 30

		remove_effect = {
			set_temp_variable = { random_factor = 0 }
			randomize_temp_variable = {
				var = random_factor
				distribution = uniform
				min = 0
				max = 100
			}
			round_variable = random_factor
			hidden_effect = {
				if = {
					limit = {
						check_variable = {
						    var = random_factor
						    value = 60
						    compare = less_than_or_equals
						}
					}
					SOV = {
						country_event = { id = soviets.204 hours = 2 }
					}
				}
				else = {
					SOV = {
						country_event = { id = soviets.200 hours = 2 }
					}
				}
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_send_recon_team_artic_region_tt
			hidden_effect = {
				add_command_power = -25
			}
		}
	}

	SOV_raid_communist_hideout_artic_region = {

		icon = GFX_decision_generic_prepare_civil_war

		allowed = {
			original_tag = SOV
		}

		available = {
			has_equipment = {
				infantry_equipment > 1499
			}
		}

		visible = {
			has_idea = SOV_Communist_resistance3
			has_country_flag = artic_region_raids
			has_completed_focus = SOV_destroy_communist
		}

		highlight_state_targets = {
			state = 214
		}

		ai_will_do = {
			factor = 15
		}

		cost = 0

		days_remove = 20

		remove_effect = {
			hidden_effect = {
				SOV = {
					add_state_core = 351
					add_state_core = 262
					add_state_core = 397
					add_state_core = 215
					add_state_core = 213
					add_state_core = 214
					clr_country_flag = artic_region_raids
					set_country_flag = artic_region_done
				}
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_raid_communist_hideout_artic_region_tt
			SOV = {
				add_popularity = {
					ideology = communism
					popularity = -0.05
				}
			}
			hidden_effect = {
				SOV = {
					add_equipment_to_stockpile = {
						type = infantry_equipment
						amount = -1500
					}
				}
			}
		}
	}

	SOV_send_recon_team_siberia_region = {

		icon = GFX_decision_generic_intelligence_operation

		allowed = {
			original_tag = SOV
		}

		available = {
			command_power > 25
		}

		visible = {
			has_idea = SOV_Communist_resistance3
			has_country_flag = siberia_region_claims
			has_completed_focus = SOV_destroy_communist
		}

		highlight_state_targets = {
			state = 580
		}

		ai_will_do = {
			factor = 15
		}

		cost = 0

		days_remove = 30

		remove_effect = {
			set_temp_variable = { random_factor = 0 }
			randomize_temp_variable = {
				var = random_factor
				distribution = uniform
				min = 0
				max = 100
			}
			round_variable = random_factor
			hidden_effect = {
				if = {
					limit = {
						check_variable = {
						    var = random_factor
						    value = 60
						    compare = less_than_or_equals
						}
					}
					SOV = {
						country_event = { id = soviets.205 hours = 2 }
					}
				}
				else = {
					SOV = {
						country_event = { id = soviets.200 hours = 2 }
					}
				}
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_send_recon_team_siberia_region_tt
			hidden_effect = {
				add_command_power = -25
			}
		}
	}

	SOV_raid_communist_hideout_siberia_region = {

		icon = GFX_decision_generic_prepare_civil_war

		allowed = {
			original_tag = SOV
		}

		available = {
			has_equipment = {
				infantry_equipment > 1499
			}
		}

		visible = {
			has_idea = SOV_Communist_resistance3
			has_country_flag = siberia_region_raids
			has_completed_focus = SOV_destroy_communist
		}

		highlight_state_targets = {
			state = 580
		}

		ai_will_do = {
			factor = 15
		}

		cost = 0

		days_remove = 20

		remove_effect = {
			hidden_effect = {
				SOV = {
					add_state_core = 579
					add_state_core = 580
					add_state_core = 653
					add_state_core = 572
					add_state_core = 403
					clr_country_flag = siberia_region_raids
					set_country_flag = siberia_region_done
				}
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_raid_communist_hideout_siberia_region_tt
			SOV = {
				add_popularity = {
					ideology = communism
					popularity = -0.05
				}
			}
			hidden_effect = {
				SOV = {
					add_equipment_to_stockpile = {
						type = infantry_equipment
						amount = -1500
					}
				}
			}
		}
	}

	SOV_send_recon_team_novgorod_region = {

		icon = GFX_decision_generic_intelligence_operation

		allowed = {
			original_tag = SOV
		}

		available = {
			command_power > 25
		}

		visible = {
			has_idea = SOV_Communist_resistance3
			has_country_flag = novgorod_region_claims
			has_completed_focus = SOV_destroy_communist
		}

		highlight_state_targets = {
			state = 263
		}

		ai_will_do = {
			factor = 15
		}

		cost = 0

		days_remove = 30

		remove_effect = {
			set_temp_variable = { random_factor = 0 }
			randomize_temp_variable = {
				var = random_factor
				distribution = uniform
				min = 0
				max = 100
			}
			round_variable = random_factor
			hidden_effect = {
				if = {
					limit = {
						check_variable = {
						    var = random_factor
						    value = 50
						    compare = less_than_or_equals
						}
					}
					SOV = {
						country_event = { id = soviets.206 hours = 2 }
					}
				}
				else = {
					SOV = {
						country_event = { id = soviets.200 hours = 2 }
					}
				}
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_send_recon_team_novgorod_region_tt
			hidden_effect = {
				add_command_power = -25
			}
		}
	}

	SOV_raid_communist_hideout_novgorod_region = {

		icon = GFX_decision_generic_prepare_civil_war

		allowed = {
			original_tag = SOV
		}

		available = {
			has_equipment = {
				infantry_equipment > 2499
			}
		}

		visible = {
			has_idea = SOV_Communist_resistance3
			has_country_flag = novgorod_region_raids
			has_completed_focus = SOV_destroy_communist
		}

		highlight_state_targets = {
			state = 263
		}

		ai_will_do = {
			factor = 15
		}

		cost = 0

		days_remove = 20

		remove_effect = {
			hidden_effect = {
				SOV = {
					add_state_core = 210
					add_state_core = 246
					add_state_core = 247
					add_state_core = 209
					add_state_core = 263
					add_state_core = 264
					add_state_core = 244
					add_state_core = 208
					add_state_core = 216
					clr_country_flag = novgorod_region_raids
					set_country_flag = novgorod_region_done
				}
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_raid_communist_hideout_novgorod_region_tt
			SOV = {
				add_popularity = {
					ideology = communism
					popularity = -0.05
				}
			}
			hidden_effect = {
				SOV = {
					add_equipment_to_stockpile = {
						type = infantry_equipment
						amount = -2500
					}
				}
			}
		}
	}

	SOV_finish_communist_partisan = {

		icon = GFX_decision_generic_nationalism

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = central_russia_done
			has_country_flag = kuban_region_done
			has_country_flag = transvolga_region_done
			has_country_flag = urals_region_done
			has_country_flag = artic_region_done
			has_country_flag = siberia_region_done
			has_country_flag = novgorod_region_done
		}

		visible = {
			has_idea = SOV_Communist_resistance3
			has_completed_focus = SOV_destroy_communist
		}

		cost = 0

		ai_will_do = {
			factor = 500
		}

		complete_effect = {
			remove_ideas = SOV_Communist_resistance3
			SOV = {
				add_popularity = {
					ideology = communism
					popularity = -0.15
				}
				add_popularity = {
					ideology = neutrality
					popularity = 0.10
				}
			}
		}
	}

	SOV_partisan_attack = {

		icon = GFX_decision_generic_scorched_earth

		allowed = {
			original_tag = SOV
		}

		available = {
			NOT = {
				has_idea = SOV_Communist_resistance3
			}
		}

		activation = {
			has_completed_focus = SOV_destroy_communist
		}

		days_mission_timeout = 30

		is_good = no

		timeout_effect = {
			random_owned_controlled_state = {
				limit = {
					non_damaged_building_level = {
						building = industrial_complex level > 0
					}
				}
				damage_building = {
					type = industrial_complex damage = 1
				}
			}
			random_owned_controlled_state = {
				limit = {
					non_damaged_building_level = {
						building = arms_factory level > 0
					}
				}
				damage_building = {
					type = arms_factory damage = 1
				}
			}
			random_owned_controlled_state = {
				limit = {
					non_damaged_building_level = {
						building = infrastructure level > 1
					}
				}
				damage_building = {
					type = infrastructure
					damage = 1
				}
			}
			add_manpower = -4000
		}

		complete_effect = {

		}
	}
}

SOV_buy_guns_foreign_country = {

	SOV_small_shipment = {

		icon = GFX_decision_generic_prepare_civil_war

		allowed = {
			original_tag = SOV
		}

		available = {
			NOT = {
				has_country_flag = shipment_in_progress
			}
			OR = {
				custom_trigger_tooltip = {
					tooltip = weapons_limit_number_10
					has_equipment = {
						infantry_equipment < 10000
					}
				}
				NOT = {
					has_idea = SOV_Communist_resistance3
				}
			}
		}

		visible = {
			check_variable = {
				var = small_equipment
				value = 7
				compare = less_than
			}
			has_completed_focus = SOV_buying_equipment
		}

		cost = 10

		ai_will_do = {
			factor = 25
		}

		days_remove = 35

		modifier = {
			civilian_factory_use = 3
		}

		complete_effect = {
			add_to_variable = {
				var = small_equipment
				value = 1
			}
			set_country_flag = shipment_in_progress
		}

		remove_effect = {
			SOV = {
				add_equipment_to_stockpile = {
					type = infantry_equipment_1
					amount = 1000
				}
			}
			clr_country_flag = shipment_in_progress
		}
	}

	SOV_medium_shipment = {

		icon = GFX_decision_generic_prepare_civil_war

		allowed = {
			original_tag = SOV
		}

		available = {
			NOT = {
				has_country_flag = shipment_in_progress
			}
			OR = {
				custom_trigger_tooltip = {
					tooltip = weapons_limit_number_10
					has_equipment = {
						infantry_equipment < 10000
					}
				}
				NOT = {
					has_idea = SOV_Communist_resistance3
				}
			}
		}

		visible = {
			check_variable = {
				var = medium_equipment
				value = 4
				compare = less_than
			}
			has_completed_focus = SOV_buying_equipment
		}

		cost = 25

		ai_will_do = {
			factor = 50
		}

		days_remove = 35

		modifier = {
			civilian_factory_use = 6
		}

		complete_effect = {
			add_to_variable = {
				var = medium_equipment
				value = 1
			}
			set_country_flag = shipment_in_progress
		}

		remove_effect = {
			SOV = {
				add_equipment_to_stockpile = {
					type = infantry_equipment_1
					amount = 2500
				}
			}
			clr_country_flag = shipment_in_progress
		}
	}

	SOV_large_shipment = {

		icon = GFX_decision_generic_prepare_civil_war

		allowed = {
			original_tag = SOV
		}

		available = {
			NOT = {
				has_country_flag = shipment_in_progress
			}
			OR = {
				custom_trigger_tooltip = {
					tooltip = weapons_limit_number_10
					has_equipment = {
						infantry_equipment < 10000
					}
				}
				NOT = {
					has_idea = SOV_Communist_resistance3
				}
			}
		}

		visible = {
			check_variable = {
				var = medium_equipment
				value = 2
				compare = less_than
			}
			has_completed_focus = SOV_buying_equipment
		}

		cost = 50

		ai_will_do = {
			factor = 75
		}

		days_remove = 35

		modifier = {
			civilian_factory_use = 12
		}

		complete_effect = {
			add_to_variable = {
				var = medium_equipment
				value = 1
			}
			set_country_flag = shipment_in_progress
		}

		remove_effect = {
			SOV = {
				add_equipment_to_stockpile = {
					type = infantry_equipment_1
					amount = 5000
				}
			}
			clr_country_flag = shipment_in_progress
		}
	}
}

SOV_appease_communist = {

	SOV_return_the_lands = {

		icon = GFX_decision_generic_decision

		allowed = {
			original_tag = SOV
		}

		available = {

		}

		visible = {
			has_completed_focus = SOV_appease_communist
		}

		fire_only_once = yes

		cost = 50

		ai_will_do = {
			factor = 100
		}

		modifier = {
			civilian_factory_use = 15
		}

		days_remove = 70

		complete_effect = {

		}

		remove_effect = {
			swap_ideas = {
				remove_idea = SOV_Communist_resistance2
				add_idea = SOV_Communist_resistance4
			}
			set_country_flag = returned_lands
		}
	}

	SOV_concession_workers = {

		icon = GFX_decision_generic_industry

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = returned_lands
			custom_trigger_tooltip = {
				tooltip = concession_workers_tt
				has_country_flag = higher_wages
				has_country_flag = hollidays_workers
				has_country_flag = more_rights_workers
			}
		}

		visible = {
			has_completed_focus = SOV_appease_communist
		}

		fire_only_once = yes

		cost = 25

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			swap_ideas = {
				remove_idea = SOV_Communist_resistance4
				add_idea = SOV_Communist_resistance5
			}
			SOV = {
				add_popularity = {
					ideology = communism
					popularity = -0.15
				}
			}
			set_country_flag = appease_the_workers
		}
	}

	SOV_concession_peasants = {

		icon = GFX_decision_generic_political_rally

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = appease_the_workers
			custom_trigger_tooltip = {
				tooltip = concession_peasants_tt
				has_country_flag = give_land_peasants
				has_country_flag = encourage_peasants
				has_country_flag = kulaks_restored
			}
		}

		visible = {
			has_completed_focus = SOV_appease_communist
		}

		fire_only_once = yes

		cost = 25

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			swap_ideas = {
				remove_idea = SOV_Communist_resistance5
				add_idea = SOV_Communist_resistance6
			}
			SOV = {
				add_popularity = {
					ideology = communism
					popularity = -0.15
				}
			}
			set_country_flag = appease_the_peasants
		}
	}

	SOV_concession_army = {

		icon = GFX_decision_generic_army_support

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = appease_the_peasants
			custom_trigger_tooltip = {
				tooltip = concession_army_tt
				has_country_flag = arrest_generals
				has_country_flag = compensate_generals
				has_country_flag = reorganise_army
			}
		}

		visible = {
			has_completed_focus = SOV_appease_communist
		}

		fire_only_once = yes

		cost = 25

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			swap_ideas = {
				remove_idea = SOV_Communist_resistance6
				add_idea = SOV_Communist_resistance7
			}
			SOV = {
				add_popularity = {
					ideology = communism
					popularity = -0.15
				}
			}
			set_country_flag = appease_the_army
		}
	}

	SOV_ask_factories_owner_higher_wage = {

		icon = GFX_decision_hol_attract_foreign_investors

		allowed = {
			original_tag = SOV
		}

		available = {

		}

		visible = {
			has_completed_focus = SOV_appease_communist
		}

		fire_only_once = yes

		cost = 50

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			add_timed_idea = {
				idea = SOV_Higher_wages
				days = 180
			}
			set_country_flag = higher_wages
		}
	}

	SOV_give_more_hollidays = {

		icon = GFX_decision_eng_blackshirt_march

		allowed = {
			original_tag = SOV
		}

		available = {

		}

		visible = {
			has_completed_focus = SOV_appease_communist
		}

		fire_only_once = yes

		cost = 50

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			add_timed_idea = {
				idea = SOV_Less_work
				days = 85
			}
			set_country_flag = hollidays_workers
		}
	}

	SOV_give_more_rights_workers = {

		icon = GFX_decision_eng_trade_unions_support

		allowed = {
			original_tag = SOV
		}

		available = {

		}

		visible = {
			has_completed_focus = SOV_appease_communist
		}

		fire_only_once = yes

		cost = 75

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			add_stability = 0.05
			set_country_flag = more_rights_workers
		}
	}

	SOV_give_land_peasants = {

		icon = GFX_decision_infiltrate_state

		allowed = {
			original_tag = SOV
		}

		available = {

		}

		visible = {
			has_completed_focus = SOV_appease_communist
		}

		fire_only_once = yes

		cost = 75

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			add_timed_idea = {
				idea = SOV_Land_given
				days = 100
			}
			set_country_flag = give_land_peasants
		}
	}

	SOV_encourage_peasants_work_harder = {

		icon = GFX_decision_hol_attract_foreign_investors

		allowed = {
			original_tag = SOV
		}

		available = {

		}

		visible = {
			has_completed_focus = SOV_appease_communist
		}

		fire_only_once = yes

		cost = 100

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			add_timed_idea = {
				idea = SOV_Encourage_peasants
				days = 90
			}
			set_country_flag = encourage_peasants
		}
	}

	SOV_bring_back_kulaks = {

		icon = GFX_decision_generic_independence

		allowed = {
			original_tag = SOV
		}

		available = {

		}

		visible = {
			has_completed_focus = SOV_appease_communist
		}

		fire_only_once = yes

		cost = 100

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			if = {
				limit = {
					AND = {
						has_country_flag = give_land_peasants
						has_country_flag = encourage_peasants
					}
				}
				add_stability = 0.05
			}
			else_if = {
				limit = {
					OR = {
						has_country_flag = give_land_peasants
						has_country_flag = encourage_peasants
					}
				}
				add_stability = -0.05
			}
			else = {
				add_stability = -0.1
			}
			set_country_flag = kulaks_restored
		}
	}

	SOV_arrest_generals_communist = {

		icon = GFX_decision_generic_civil_support

		allowed = {
			original_tag = SOV
		}

		available = {

		}

		visible = {
			has_completed_focus = SOV_appease_communist
		}

		fire_only_once = yes

		cost = 150

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			set_country_flag = arrest_generals
		}
	}

	SOV_compensate_generals = {

		icon = GFX_decision_hol_draw_up_staff_plans

		allowed = {
			original_tag = SOV
		}

		available = {

		}

		visible = {
			has_completed_focus = SOV_appease_communist
		}

		fire_only_once = yes

		cost = 150

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			custom_effect_tooltip = compensate_generals_tt
			set_temp_variable = { random_factor = 0 }
			randomize_temp_variable = {
				var = random_generals_1
				distribution = uniform
				min = 0
				max = 100
			}
			hidden_effect = {
				if = {
					limit = {
						check_variable = {
							var = random_generals_1
							value = 20
							compare = less_than_or_equals
						}
					}
					SOV = {
						create_field_marshal = {
							name = "Mikhail Tukhachevsky"
							picture = "Portrait_Soviet_Mikhail_Tukhachevsky.dds"
							traits = { offensive_doctrine brilliant_strategist career_officer infantry_officer trait_reckless }
							skill = 4
							attack_skill = 3
							defense_skill = 4
							planning_skill = 4
							logistics_skill = 2
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							var = random_generals_1
							value = 60
							compare = greater_than_or_equals
						}
					}
					SOV = {
						create_corps_commander = {
							name = "Vasily Kuznetsov"
							picture = "Portrait_Soviet_Vasily_Kuznetsov.dds"
							traits = { commando infantry_officer }
							skill = 3
							attack_skill = 3
							defense_skill = 3
							planning_skill = 2
							logistics_skill = 2
						}
					}
				}
				else = {
					SOV = {
						create_corps_commander = {
							name = "Max Reyter"
							picture = "Portrait_Soviet_Max_Andreyevich.dds"
							traits = { career_officer }
							skill = 1
							attack_skill = 1
							defense_skill = 1
							planning_skill = 1
							logistics_skill = 1
						}
					}
				}
				SOV = {
					country_event = { id = soviets.207 }
					country_event = { id = soviets.208 }
					country_event = { id = soviets.209 }
				}
			}
			set_country_flag = compensate_generals
		}
	}

	SOV_reorganise_army = {

		icon = GFX_decision_generic_intelligence_operation

		allowed = {
			original_tag = SOV
		}

		available = {

		}

		visible = {
			has_completed_focus = SOV_appease_communist
		}

		fire_only_once = yes

		cost = 150

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			SOV = {
				add_manpower = -20000
				army_experience = 10
			}
			set_country_flag = reorganise_army
		}
	}

	SOV_finish_appeasement_process = {

		icon = GFX_decision_hol_exchange_intelligence_data

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = appease_the_workers
			has_country_flag = appease_the_peasants
			has_country_flag = appease_the_army
		}

		visible = {
			has_completed_focus = SOV_appease_communist
		}

		fire_only_once = yes

		cost = 25

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			remove_ideas = SOV_Communist_resistance7
			add_ideas = SOV_United_society
			SOV = {
				add_popularity = {
					ideology = communism
					popularity = -0.15
				}
			}
		}
	}
}

SOV_monarchy_congress = {

	#Have to do each house one by one because Paradox doesn't allow the use of a foreach here
	SOV_monarchy_support_house_1 = {
		icon = GFX_decision_generic_political_discourse

		allowed = {
			original_tag = SOV
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = less_than_3_house_1
				check_variable = {
					var = house_russia@1
					value = 3
					compare = less_than
				}
			}
			NOT = {
				has_country_flag = is_supporting_house
			}
		}

		cost = house_russia_pp_cost@1

		days_remove = house_russia_pp_cost@1

		complete_effect = {
			set_country_flag = is_supporting_house
		}

		remove_effect = {
			clr_country_flag = is_supporting_house

			add_to_variable = {
				var = house_russia@1
				value = 1
			}

			if = {
				limit = {
					check_variable = {
						var = house_russia@1
						value = 2
						compare = equals
					}
				}
				set_variable = { house_russia_pp_cost@1 = 20 }
				add_to_variable = {
					var = house_russia_neutral
					value = 1
				}
				subtract_from_variable = {
					var = house_russia_opposed
					value = 1
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = house_russia@1
						value = 3
						compare = equals
					}
				}
				set_variable = { house_russia_pp_cost@1 = 10 }
				add_to_variable = {
					var = house_russia_support
					value = 1
				}
				subtract_from_variable = {
					var = house_russia_neutral
					value = 1
				}
			}
		}
	}

	SOV_monarchy_support_house_2 = {
		icon = GFX_decision_generic_political_discourse

		allowed = {
			original_tag = SOV
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = less_than_3_house_2
				check_variable = {
					var = house_russia@2
					value = 3
					compare = less_than
				}
			}
			NOT = {
				has_country_flag = is_supporting_house
			}
		}

		cost = house_russia_pp_cost@2

		days_remove = house_russia_pp_cost@2

		complete_effect = {
			set_country_flag = is_supporting_house
		}

		remove_effect = {
			clr_country_flag = is_supporting_house

			add_to_variable = {
				var = house_russia@2
				value = 1
			}

			if = {
				limit = {
					check_variable = {
						var = house_russia@2
						value = 2
						compare = equals
					}
				}
				set_variable = { house_russia_pp_cost@2 = 20 }
				add_to_variable = {
					var = house_russia_neutral
					value = 1
				}
				subtract_from_variable = {
					var = house_russia_opposed
					value = 1
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = house_russia@2
						value = 3
						compare = equals
					}
				}
				set_variable = { house_russia_pp_cost@2 = 10 }
				add_to_variable = {
					var = house_russia_support
					value = 1
				}
				subtract_from_variable = {
					var = house_russia_neutral
					value = 1
				}
			}
		}
	}

	SOV_monarchy_support_house_3 = {
		icon = GFX_decision_generic_political_discourse

		allowed = {
			original_tag = SOV
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = less_than_3_house_3
				check_variable = {
					var = house_russia@3
					value = 3
					compare = less_than
				}
			}
			NOT = {
				has_country_flag = is_supporting_house
			}
		}

		cost = house_russia_pp_cost@3

		days_remove = house_russia_pp_cost@3

		complete_effect = {
			set_country_flag = is_supporting_house
		}

		remove_effect = {
			clr_country_flag = is_supporting_house

			add_to_variable = {
				var = house_russia@3
				value = 1
			}

			if = {
				limit = {
					check_variable = {
						var = house_russia@3
						value = 2
						compare = equals
					}
				}
				set_variable = { house_russia_pp_cost@3 = 20 }
				add_to_variable = {
					var = house_russia_neutral
					value = 1
				}
				subtract_from_variable = {
					var = house_russia_opposed
					value = 1
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = house_russia@3
						value = 3
						compare = equals
					}
				}
				set_variable = { house_russia_pp_cost@3 = 10 }
				add_to_variable = {
					var = house_russia_support
					value = 1
				}
				subtract_from_variable = {
					var = house_russia_neutral
					value = 1
				}
			}
		}
	}

	SOV_monarchy_support_house_4 = {
		icon = GFX_decision_generic_political_discourse

		allowed = {
			original_tag = SOV
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = less_than_3_house_4
				check_variable = {
					var = house_russia@4
					value = 3
					compare = less_than
				}
			}
			NOT = {
				has_country_flag = is_supporting_house
			}
		}

		cost = house_russia_pp_cost@4

		days_remove = house_russia_pp_cost@4

		complete_effect = {
			set_country_flag = is_supporting_house
		}

		remove_effect = {
			clr_country_flag = is_supporting_house

			add_to_variable = {
				var = house_russia@4
				value = 1
			}

			if = {
				limit = {
					check_variable = {
						var = house_russia@4
						value = 2
						compare = equals
					}
				}
				set_variable = { house_russia_pp_cost@4 = 20 }
				add_to_variable = {
					var = house_russia_neutral
					value = 1
				}
				subtract_from_variable = {
					var = house_russia_opposed
					value = 1
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = house_russia@4
						value = 3
						compare = equals
					}
				}
				set_variable = { house_russia_pp_cost@4 = 10 }
				add_to_variable = {
					var = house_russia_support
					value = 1
				}
				subtract_from_variable = {
					var = house_russia_neutral
					value = 1
				}
			}
		}
	}

	SOV_monarchy_support_house_5 = {
		icon = GFX_decision_generic_political_discourse

		allowed = {
			original_tag = SOV
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = less_than_3_house_5
				check_variable = {
					var = house_russia@5
					value = 3
					compare = less_than
				}
			}
			NOT = {
				has_country_flag = is_supporting_house
			}
		}

		cost = house_russia_pp_cost@5

		days_remove = house_russia_pp_cost@5

		complete_effect = {
			set_country_flag = is_supporting_house
		}

		remove_effect = {
			clr_country_flag = is_supporting_house

			add_to_variable = {
				var = house_russia@5
				value = 1
			}

			if = {
				limit = {
					check_variable = {
						var = house_russia@5
						value = 2
						compare = equals
					}
				}
				set_variable = { house_russia_pp_cost@5 = 20 }
				add_to_variable = {
					var = house_russia_neutral
					value = 1
				}
				subtract_from_variable = {
					var = house_russia_opposed
					value = 1
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = house_russia@5
						value = 3
						compare = equals
					}
				}
				set_variable = { house_russia_pp_cost@5 = 10 }
				add_to_variable = {
					var = house_russia_support
					value = 1
				}
				subtract_from_variable = {
					var = house_russia_neutral
					value = 1
				}
			}
		}
	}

	SOV_monarchy_support_house_6 = {
		icon = GFX_decision_generic_political_discourse

		allowed = {
			original_tag = SOV
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = less_than_3_house_6
				check_variable = {
					var = house_russia@6
					value = 3
					compare = less_than
				}
			}
			NOT = {
				has_country_flag = is_supporting_house
			}
		}

		cost = house_russia_pp_cost@6

		days_remove = house_russia_pp_cost@6

		complete_effect = {
			set_country_flag = is_supporting_house
		}

		remove_effect = {
			clr_country_flag = is_supporting_house

			add_to_variable = {
				var = house_russia@6
				value = 1
			}

			if = {
				limit = {
					check_variable = {
						var = house_russia@6
						value = 2
						compare = equals
					}
				}
				set_variable = { house_russia_pp_cost@6 = 20 }
				add_to_variable = {
					var = house_russia_neutral
					value = 1
				}
				subtract_from_variable = {
					var = house_russia_opposed
					value = 1
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = house_russia@6
						value = 3
						compare = equals
					}
				}
				set_variable = { house_russia_pp_cost@6 = 10 }
				add_to_variable = {
					var = house_russia_support
					value = 1
				}
				subtract_from_variable = {
					var = house_russia_neutral
					value = 1
				}
			}
		}
	}

	SOV_monarchy_support_house_7 = {
		icon = GFX_decision_generic_political_discourse

		allowed = {
			original_tag = SOV
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = less_than_3_house_7
				check_variable = {
					var = house_russia@7
					value = 3
					compare = less_than
				}
			}
			NOT = {
				has_country_flag = is_supporting_house
			}
		}

		cost = house_russia_pp_cost@7

		days_remove = house_russia_pp_cost@7

		complete_effect = {
			set_country_flag = is_supporting_house
		}

		remove_effect = {
			clr_country_flag = is_supporting_house

			add_to_variable = {
				var = house_russia@7
				value = 1
			}

			if = {
				limit = {
					check_variable = {
						var = house_russia@7
						value = 2
						compare = equals
					}
				}
				set_variable = { house_russia_pp_cost@7 = 20 }
				add_to_variable = {
					var = house_russia_neutral
					value = 1
				}
				subtract_from_variable = {
					var = house_russia_opposed
					value = 1
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = house_russia@7
						value = 3
						compare = equals
					}
				}
				set_variable = { house_russia_pp_cost@7 = 10 }
				add_to_variable = {
					var = house_russia_support
					value = 1
				}
				subtract_from_variable = {
					var = house_russia_neutral
					value = 1
				}
			}
		}
	}

	SOV_monarchy_support_house_8 = {
		icon = GFX_decision_generic_political_discourse

		allowed = {
			original_tag = SOV
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = less_than_3_house_8
				check_variable = {
					var = house_russia@8
					value = 3
					compare = less_than
				}
			}
			NOT = {
				has_country_flag = is_supporting_house
			}
		}

		cost = house_russia_pp_cost@8

		days_remove = house_russia_pp_cost@8

		complete_effect = {
			set_country_flag = is_supporting_house
		}

		remove_effect = {
			clr_country_flag = is_supporting_house

			add_to_variable = {
				var = house_russia@8
				value = 1
			}

			if = {
				limit = {
					check_variable = {
						var = house_russia@8
						value = 2
						compare = equals
					}
				}
				set_variable = { house_russia_pp_cost@8 = 20 }
				add_to_variable = {
					var = house_russia_neutral
					value = 1
				}
				subtract_from_variable = {
					var = house_russia_opposed
					value = 1
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = house_russia@8
						value = 3
						compare = equals
					}
				}
				set_variable = { house_russia_pp_cost@8 = 10 }
				add_to_variable = {
					var = house_russia_support
					value = 1
				}
				subtract_from_variable = {
					var = house_russia_neutral
					value = 1
				}
			}
		}
	}

	SOV_monarchy_support_house_9 = {
		icon = GFX_decision_generic_political_discourse

		allowed = {
			original_tag = SOV
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = less_than_3_house_9
				check_variable = {
					var = house_russia@9
					value = 3
					compare = less_than
				}
			}
			NOT = {
				has_country_flag = is_supporting_house
			}
		}

		cost = house_russia_pp_cost@9

		days_remove = house_russia_pp_cost@9

		complete_effect = {
			set_country_flag = is_supporting_house
		}

		remove_effect = {
			clr_country_flag = is_supporting_house

			add_to_variable = {
				var = house_russia@9
				value = 1
			}

			if = {
				limit = {
					check_variable = {
						var = house_russia@9
						value = 2
						compare = equals
					}
				}
				set_variable = { house_russia_pp_cost@9 = 20 }
				add_to_variable = {
					var = house_russia_neutral
					value = 1
				}
				subtract_from_variable = {
					var = house_russia_opposed
					value = 1
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = house_russia@9
						value = 3
						compare = equals
					}
				}
				set_variable = { house_russia_pp_cost@9 = 10 }
				add_to_variable = {
					var = house_russia_support
					value = 1
				}
				subtract_from_variable = {
					var = house_russia_neutral
					value = 1
				}
			}
		}
	}

	SOV_monarchy_support_house_10 = {
		icon = GFX_decision_generic_political_discourse

		allowed = {
			original_tag = SOV
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = less_than_3_house_10
				check_variable = {
					var = house_russia@10
					value = 3
					compare = less_than
				}
			}
			NOT = {
				has_country_flag = is_supporting_house
			}
		}

		cost = house_russia_pp_cost@10

		days_remove = house_russia_pp_cost@10

		complete_effect = {
			set_country_flag = is_supporting_house
		}

		remove_effect = {
			clr_country_flag = is_supporting_house

			add_to_variable = {
				var = house_russia@10
				value = 1
			}

			if = {
				limit = {
					check_variable = {
						var = house_russia@10
						value = 2
						compare = equals
					}
				}
				set_variable = { house_russia_pp_cost@10 = 20 }
				add_to_variable = {
					var = house_russia_neutral
					value = 1
				}
				subtract_from_variable = {
					var = house_russia_opposed
					value = 1
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = house_russia@10
						value = 3
						compare = equals
					}
				}
				set_variable = { house_russia_pp_cost@10 = 10 }
				add_to_variable = {
					var = house_russia_support
					value = 1
				}
				subtract_from_variable = {
					var = house_russia_neutral
					value = 1
				}
			}
		}
	}

	SOV_war_economy_law_parl = {

		icon = GFX_decision_ger_military_buildup

		allowed = {
			original_tag = SOV
		}

		available = {
			NOT = {
				OR = {
					has_idea = war_economy
					has_idea = tot_economic_mobilisation
				}
			}
			OR = {
				has_war = yes
				AND = {
					has_war_support > 0.5
					threat > 0.5
				}
			}
			custom_trigger_tooltip = {
				tooltip = SOV_war_economy_law_parl_support_tt
				check_variable = {
					var = house_russia_support
					value = 6
					compare = greater_than_or_equals
				}
			}
			custom_trigger_tooltip = {
				tooltip = SOV_war_economy_law_parl_opposition_tt
				check_variable = {
					var = house_russia_opposed
					value = 2
					compare = less_than_or_equals
				}
			}
		}

		cost = 10

		complete_effect = {
			add_ideas = war_economy
			custom_effect_tooltip = SOV_2_houses_go_opposition

			set_temp_variable = { success_count = 0 }
			set_temp_variable = { random_count_array = 0 }
			# Might add a break to the while to limit the numbers of loops possible (can cause performance issues if very unlucky)
			while_loop_effect = {
				# break = end_array
    			limit = {
					check_variable = {
						var = success_count
						value = 2
						compare = less_than
					}
				}

				for_each_loop = {
				    array = monarchy_houses_russia
					value = current
	    			index = i
				    break = end_array

				    if = {
						limit = {
							check_variable = {
								var = house_russia@var:current
								value = 3
								compare = equals
							}
						}
						randomize_temp_variable = {
							var = random_count_array
							distribution = uniform
							min = 1
							max = 2
						}
						if = {
							limit = {
								check_variable = {
									var = random_count_array
									value = 1
									compare = equals
								}
							}
							set_variable = { house_russia_pp_cost@var:current = 30 }
							add_to_variable = {
								var = house_russia_opposed
								value = 1
							}
							subtract_from_variable = {
								var = house_russia_support
								value = 1
							}
							subtract_from_variable = {
								var = house_russia@var:current
								value = 2
							}
							add_to_temp_variable = { success_count = 1 }
							if = {
								limit = {
									check_variable = {
										var = success_count
										value = 2
										compare = equals
									}
								}
								add_to_temp_variable = { end_array = 1 }
							}
						}
						else = {
							# Nothing happens, the loop will keep going
						}
					}
				}
			}
		}
	}

	SOV_increase_ressources_law_parl = {

		icon = GFX_decision_tungsten
		allowed = {
			original_tag = SOV
		}

		available = {
			owns_state = 219
			owns_state = 232
			owns_state = 233
			custom_trigger_tooltip = {
				tooltip = SOV_increase_ressources_law_parl_support_tt
				check_variable = {
					var = house_russia_support
					value = 4
					compare = greater_than_or_equals
				}
			}
			custom_trigger_tooltip = {
				tooltip = SOV_increase_ressources_law_parl_opposition_tt
				check_variable = {
					var = house_russia_opposed
					value = 3
					compare = less_than_or_equals
				}
			}
		}

		cost = 10

		complete_effect = {
			add_ideas = SOV_Develop_new_ressources
			add_timed_idea = {
				idea = SOV_Payment_ressources
				days = 180
			}
			219 = {
				add_resource = {
					type = rubber
					amount = 10
				}
			}
			232 = {
				add_resource = {
					type = oil
					amount = 10
				}
			}
			233 = {
				add_resource = {
					type = tungsten
					amount = 16
				}
			}
			custom_effect_tooltip = SOV_2_houses_go_opposition
			set_temp_variable = { success_count = 0 }
			set_temp_variable = { random_count_array = 0 }
			# Might add a break to the while to limit the numbers of loops possible (can cause performance issues if very unlucky)
			while_loop_effect = {
				# break = end_array
    			limit = {
					check_variable = {
						var = success_count
						value = 2
						compare = less_than
					}
				}

				for_each_loop = {
				    array = monarchy_houses_russia
					value = current
	    			index = i
				    break = end_array

				    if = {
						limit = {
							check_variable = {
								var = house_russia@var:current
								value = 3
								compare = equals
							}
						}
						randomize_temp_variable = {
							var = random_count_array
							distribution = uniform
							min = 1
							max = 2
						}
						if = {
							limit = {
								check_variable = {
									var = random_count_array
									value = 1
									compare = equals
								}
							}
							set_variable = { house_russia_pp_cost@var:current = 30 }
							add_to_variable = {
								var = house_russia_opposed
								value = 1
							}
							subtract_from_variable = {
								var = house_russia_support
								value = 1
							}
							subtract_from_variable = {
								var = house_russia@var:current
								value = 2
							}
							add_to_temp_variable = { success_count = 1 }
							if = {
								limit = {
									check_variable = {
										var = success_count
										value = 2
										compare = equals
									}
								}
								add_to_temp_variable = { end_array = 1 }
							}
						}
						else = {
							# Nothing happens, the loop will keep going
						}
					}
				}
			}
		}
	}

	SOV_raise_taxes = {

		icon = GFX_decision_hol_attract_foreign_investors

		allowed = {
			original_tag = SOV
		}

		available = {
			if = {
				limit = {
					has_country_flag = has_enacted_law
				}
				custom_trigger_tooltip = {
					tooltip = last_law_more_than_one_year
					has_country_flag = {
						flag = has_enacted_law
						days > 365
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = SOV_raise_taxes_parl_support_tt
				check_variable = {
					var = house_russia_support
					value = 1
					compare = greater_than_or_equals
				}
			}
		}

		cost = 50

		complete_effect = {
			custom_effect_tooltip = more_support_means_longer
			set_temp_variable = { days_higher_taxes = house_russia_support }
			multiply_temp_variable = 36
			multiply_temp_variable = { days_higher_taxes = 36 }
			add_timed_idea = {
				idea = SOV_Higher_taxes
				days = days_higher_taxes
			}
			set_country_flag = has_enacted_law
			hidden_effect = {
				country_event = { id = soviets.211 days = 365 }
			}
		}
	}

	SOV_focus_military = {

		icon = GFX_decision_generic_army_support

		allowed = {
			original_tag = SOV
		}

		available = {
			if = {
				limit = {
					has_country_flag = has_enacted_law
				}
				custom_trigger_tooltip = {
					tooltip = last_law_more_than_one_year
					has_country_flag = {
						flag = has_enacted_law
						days > 365
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = SOV_military_focus_law_parl_support_tt
				check_variable = {
					var = house_russia_support
					value = 1
					compare = greater_than_or_equals
				}
			}
		}

		cost = 50

		complete_effect = {
			custom_effect_tooltip = more_support_means_longer
			set_temp_variable = { days_military_focus = house_russia_support }
			multiply_temp_variable = 36
			multiply_temp_variable = { days_military_focus = 36 }
			add_timed_idea = {
				idea = SOV_Military_focus
				days = days_military_focus
			}
			set_country_flag = has_enacted_law
			hidden_effect = {
				country_event = { id = soviets.211 days = 365 }
			}
		}
	}

	SOV_focus_research = {

		icon = GFX_decision_generic_research

		allowed = {
			original_tag = SOV
		}

		available = {
			if = {
				limit = {
					has_country_flag = has_enacted_law
				}
				custom_trigger_tooltip = {
					tooltip = last_law_more_than_one_year
					has_country_flag = {
						flag = has_enacted_law
						days > 365
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = SOV_research_focus_law_parl_support_tt
				check_variable = {
					var = house_russia_support
					value = 1
					compare = greater_than_or_equals
				}
			}
		}

		cost = 50

		complete_effect = {
			custom_effect_tooltip = more_support_means_longer
			set_temp_variable = { days_research_focus = house_russia_support }
			multiply_temp_variable = 36
			multiply_temp_variable = { days_research_focus = 36 }
			add_timed_idea = {
				idea = SOV_Focus_research
				days = days_research_focus
			}
			set_country_flag = has_enacted_law
			hidden_effect = {
				country_event = { id = soviets.211 days = 365 }
			}
		}
	}

	SOV_focus_industry = {

		icon = GFX_decision_generic_construction

		allowed = {
			original_tag = SOV
		}

		available = {
			if = {
				limit = {
					has_country_flag = has_enacted_law
				}
				custom_trigger_tooltip = {
					tooltip = last_law_more_than_one_year
					has_country_flag = {
						flag = has_enacted_law
						days > 365
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = SOV_industry_focus_law_parl_support_tt
				check_variable = {
					var = house_russia_support
					value = 1
					compare = greater_than_or_equals
				}
			}
		}

		cost = 50

		complete_effect = {
			custom_effect_tooltip = more_support_means_longer
			set_temp_variable = { days_industry_focus = house_russia_support }
			multiply_temp_variable = 36
			multiply_temp_variable = { days_industry_focus = 36 }
			add_timed_idea = {
				idea = SOV_Focus_industry
				days = days_industry_focus
			}
			set_country_flag = has_enacted_law
			hidden_effect = {
				country_event = { id = soviets.211 days = 365 }
			}
		}
	}
}
