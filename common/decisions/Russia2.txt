#russia2 decisions

SOV_europe_expansion = {

    SOV_join_the_war_against_poland = {
		
		icon = GFX_decision_generic_ignite_civil_war

     	available = {
			NOT = {
				POL = {
					has_capitulated = yes
				}
			} 
     		country_exists = POL
     		has_idea = SOV_molotov_ribbentrop_pact
			POL = {
				has_war_with = GER
			}
     	}
		
		visible = {
			country_exists = POL
		}	

     	fire_only_once = yes

     	cost = 50
		
		ai_will_do = {
			factor = 150
		}

     	complete_effect = {
			SOV = {
				declare_war_on = {
					target = POL
					type = take_state_focus
					generator = { 89 91 93 94 95 96 784 }
				}
			}
		}
	}

    SOV_demand_poland = {

     	available = {
     	    has_army_manpower = {
    		size > 1500000
    		}
    		NOT = { has_war_with = POL }
    		NOT = { has_idea = SOV_molotov_ribbentrop_pact }
			country_exists = POL
     	}
		
		visible = {
			country_exists = POL
		}	

     	fire_only_once = yes

     	cost = 100
		
		ai_will_do = {
			factor = 200
			modifier = {
				GER = {
					has_war_with = POL
				}
				factor = 0
			}	
		}

     	complete_effect = {
     	POL = {
			country_event = { id = poland.2 }
			}
		}
    }

    SOV_demand_bessarabia = {

     	available = {
     	    has_army_manpower = {
    		size > 1000000
    		}
    		NOT = { has_war_with = ROM }
			country_exists = ROM
     	}

		visible = {
			country_exists = ROM
		}
		
     	fire_only_once = yes

     	cost = 50
		
		ai_will_do = {
			factor = 90
		}

     	complete_effect = {
     	ROM = {
			country_event = { id = romania.1 }
			}
		}
    }

    SOV_demand_estonia = {

     	available = {
     	    has_army_manpower = {
    		size > 1000000
    		}
    		NOT = { has_war_with = EST }
			country_exists = EST
			NOT = {
				EST = {
					is_puppet_of = SOV
				}	
			}			
     	}

		visible = {
			country_exists = EST
			NOT = {
				EST = {
					is_puppet_of = SOV
				}	
			}			
		}	

     	fire_only_once = yes

     	cost = 50
		
		ai_will_do = {
			factor = 110
		}		

     	complete_effect = {
     	EST = {
			country_event = { id = baltics.1 }
			}
		}
    }

    SOV_demand_latvia = {

     	available = {
     	    has_army_manpower = {
    		size > 1000000
    		}
    		NOT = { has_war_with = LAT }
			country_exists = LAT
			NOT = {
				LAT = {
					is_puppet_of = SOV
				}	
			}	
     	}
		
		visible = {
			country_exists = LAT
			NOT = {
				LAT = {
					is_puppet_of = SOV
				}
			}	
		}	

     	fire_only_once = yes

     	cost = 50
		
		ai_will_do = {
			factor = 110
		}		

     	complete_effect = {
     	LAT = {
			country_event = { id = baltics.2 }
			}
		}
    }

    SOV_demand_lithuania = {

     	available = {
     	    has_army_manpower = {
    		size > 1000000
    		}
    		NOT = { has_war_with = LIT }
			country_exists = LIT
			NOT = {
				LIT = {
					is_puppet_of = SOV
				}	
			}			
    	}
		
		visible = {
			country_exists = LIT
			NOT = {
				LIT = {
					is_puppet_of = SOV
				}	
			}						
		}	

     	fire_only_once = yes

     	cost = 50
		
		ai_will_do = {
			factor = 100
		}		

     	complete_effect = {
     	LIT = {
			country_event = { id = baltics.3 }
			}
		}
    }
}

SOV_integrate_the_baltics = {

	SOV_integrate_lithuania = {
		available = {
			LIT = { is_puppet_of = SOV }
			date > 1940.05.15			
		}
		
		visible = {
			LIT = { is_puppet_of = SOV }
		}	

		fire_only_once = yes

		cost = 100
		
		ai_will_do = {
			factor = 80
		}

		days_remove = 70
		remove_effect = {
			annex_country = {
				target = LIT
			}
		}	
	}
	
	SOV_integrate_latvia = {
		available = {
			LAT = { is_puppet_of = SOV }
			date > 1940.05.15			
		}
		
		visible = {
			LAT = { is_puppet_of = SOV }
		}		

		fire_only_once = yes

		cost = 100
		
		ai_will_do = {
			factor = 80
		}		

		days_remove = 70
		remove_effect = {
			annex_country = {
				target = LAT
			}
		}	
	}

	SOV_integrate_estonia = {
		available = {
			EST = { is_puppet_of = SOV }
			date > 1940.05.15
		}
		
		visible = {
			EST = { is_puppet_of = SOV }
		}		

		fire_only_once = yes

		cost = 100
		
		ai_will_do = {
			factor = 80
		}		

		days_remove = 70
		remove_effect = {
			annex_country = {
				target = EST
			}
		}	
	}
}	

SOV_unhappy_peasants = {

	SOV_peasants_rebelion = {

		icon = generic_civil_support

		allowed = { TAG = SOV }

		available = {
			custom_trigger_tooltip = {
		    tooltip = SOV_peasants_rebelion_tt
			NOT = {
				has_idea = SOV_Unhappy_peasants1
				has_idea = SOV_Unhappy_peasants2
				has_idea = SOV_Unhappy_peasants3
				has_idea = SOV_Unhappy_peasants4
				has_idea = SOV_Unhappy_peasants5
				has_idea = SOV_Unhappy_peasants6
				}
			}
		}
		
		activation = {
			OR = {
				has_idea = SOV_Unhappy_peasants1
				has_idea = SOV_Unhappy_peasants2
				has_idea = SOV_Unhappy_peasants3
				has_idea = SOV_Unhappy_peasants4
				has_idea = SOV_Unhappy_peasants5
				has_idea = SOV_Unhappy_peasants6
			}
		}

		visible = {
			
		}

		is_good = no

		fire_only_once = yes

		days_mission_timeout = 2920

		cancel_trigger = {
			hidden_trigger = {
				has_idea = SOV_Happy_peasants
			}
		}

		timeout_effect = {
			SOV = {
            	country_event = { id = soviets.18 }
			}
        }

		complete_effect = {
			add_manpower = 100000
		}
	}

	SOV_peasants_propaganda = {
		icon = GFX_decision_eng_propaganda_campaigns
        cost = 100
		ai_will_do = {
			factor = 300
		}		
        fire_only_once = yes
        visible = {
        	OR = {
				has_idea = SOV_Unhappy_peasants1
				has_idea = SOV_Unhappy_peasants2
				has_idea = SOV_Unhappy_peasants3
				has_idea = SOV_Unhappy_peasants4
				has_idea = SOV_Unhappy_peasants5
				has_idea = SOV_Unhappy_peasants6
			}
        }
        available = {
        	has_completed_focus = SOV_start_five_year_plan
        	custom_trigger_tooltip = {
	        	tooltip = SOV_unhappy_peasants_tt
	            has_idea = SOV_Unhappy_peasants1
            }
        }
        complete_effect = {
	        swap_ideas = {
				remove_idea = SOV_Unhappy_peasants1
				add_idea = SOV_Unhappy_peasants2
			}
        }
    }

    SOV_peasants_compensations = {
		icon = GFX_decision_hol_attract_foreign_investors
        cost = 100
		ai_will_do = {
			factor = 300
		}		
        fire_only_once = yes
        visible = {
        	OR = {
				has_idea = SOV_Unhappy_peasants1
				has_idea = SOV_Unhappy_peasants2
				has_idea = SOV_Unhappy_peasants3
				has_idea = SOV_Unhappy_peasants4
				has_idea = SOV_Unhappy_peasants5
				has_idea = SOV_Unhappy_peasants6
			}
        }
        available = {
        	has_completed_focus = SOV_improve_russia
            custom_trigger_tooltip = {
	        	tooltip = SOV_peasants_propaganda_tt
	            has_idea = SOV_Unhappy_peasants2
            }
        }
        complete_effect = {
	        swap_ideas = {
				remove_idea = SOV_Unhappy_peasants2
				add_idea = SOV_Unhappy_peasants3
			}
        }
    }

    SOV_peasants_recruiting = {
		icon = GFX_decision_generic_nationalism
        cost = 100
		ai_will_do = {
			factor = 300
		}		
        fire_only_once = yes
        visible = {
        	OR = {
				has_idea = SOV_Unhappy_peasants1
				has_idea = SOV_Unhappy_peasants2
				has_idea = SOV_Unhappy_peasants3
				has_idea = SOV_Unhappy_peasants4
				has_idea = SOV_Unhappy_peasants5
				has_idea = SOV_Unhappy_peasants6
			}
        }
        available = {
        	has_completed_focus = SOV_new_soviet_uniform
            custom_trigger_tooltip = {
	        	tooltip = SOV_peasants_compensations_tt
	            has_idea = SOV_Unhappy_peasants3
            }
        }
        complete_effect = {
	        swap_ideas = {
				remove_idea = SOV_Unhappy_peasants3
				add_idea = SOV_Unhappy_peasants4
			}
        }
    }

    SOV_peasants_exile = {
		icon = GFX_decision_oppression
        cost = 100
		ai_will_do = {
			factor = 300
		}		
        fire_only_once = yes
        visible = {
        	OR = {
				has_idea = SOV_Unhappy_peasants1
				has_idea = SOV_Unhappy_peasants2
				has_idea = SOV_Unhappy_peasants3
				has_idea = SOV_Unhappy_peasants4
				has_idea = SOV_Unhappy_peasants5
				has_idea = SOV_Unhappy_peasants6
			}
        }
        available = {
        	has_completed_focus = SOV_improve_siberias_railways
            custom_trigger_tooltip = {
	        	tooltip = SOV_peasants_recruiting_tt
	            has_idea = SOV_Unhappy_peasants4
            }
        }
        complete_effect = {
	        swap_ideas = {
				remove_idea = SOV_Unhappy_peasants4
				add_idea = SOV_Unhappy_peasants5
			}
        }
    }

    SOV_peasants_demands = {
		icon = GFX_decision_eng_trade_unions_support
        cost = 100
		ai_will_do = {
			factor = 300
		}		
        fire_only_once = yes
        visible = {
        	OR = {
				has_idea = SOV_Unhappy_peasants1
				has_idea = SOV_Unhappy_peasants2
				has_idea = SOV_Unhappy_peasants3
				has_idea = SOV_Unhappy_peasants4
				has_idea = SOV_Unhappy_peasants5
				has_idea = SOV_Unhappy_peasants6
			}
        }
        available = {
        	has_completed_focus = SOV_new_russia
            custom_trigger_tooltip = {
	        	tooltip = SOV_peasants_exile_tt
	            has_idea = SOV_Unhappy_peasants5
            }
        }
        complete_effect = {
	        swap_ideas = {
				remove_idea = SOV_Unhappy_peasants5
				add_idea = SOV_Unhappy_peasants6
			}
        }
    }

    SOV_happy_peasants = {
		icon = GFX_decision_hol_exchange_intelligence_data
        cost = 100
		ai_will_do = {
			factor = 300
		}		
        fire_only_once = yes
        visible = {
        	OR = {
				has_idea = SOV_Unhappy_peasants1
				has_idea = SOV_Unhappy_peasants2
				has_idea = SOV_Unhappy_peasants3
				has_idea = SOV_Unhappy_peasants4
				has_idea = SOV_Unhappy_peasants5
				has_idea = SOV_Unhappy_peasants6
			}
        }
        available = {
        	has_completed_focus = SOV_finish_the_second_five_year_plan
            custom_trigger_tooltip = {
	        	tooltip = SOV_peasants_demands_tt
	            has_idea = SOV_Unhappy_peasants6
            }
        }
        complete_effect = {
			remove_ideas = SOV_Unhappy_peasants6
			add_ideas = SOV_Happy_peasants
        }
    }
}

SOV_chinese_war = {

	SOV_send_guns_nationalist = {
		icon = GFX_decision_generic_prepare_civil_war
		cost = 50
		ai_will_do = {
			factor = 70
		}		
		fire_only_once = yes
		visible = {
			CHI = {
				has_war_with = JAP
			}
		}
		available = {
			has_equipment = {
				infantry_equipment_1 > 3999
			}
		}
		complete_effect = {
			send_equipment = {
				equipment = infantry_equipment
				amount = 4000
				target = CHI
			}
			army_experience = 15
		}
	}

	SOV_send_planes_nationalist = {
		icon = GFX_decision_generic_air
		cost = 50
		ai_will_do = {
			factor = 70
		}		
		fire_only_once = yes
		visible = {
			CHI = {
				has_war_with = JAP
			}
		}
		available = {
			has_equipment = {
				fighter_equipment > 499
			}
			has_equipment = {
				tac_bomber_equipment > 499
			}			
		}
		complete_effect = {	
			send_equipment = {
				equipment = fighter_equipment
				amount = 500
				target = CHI
			}
			send_equipment = {
				equipment = tac_bomber_equipment
				amount = 500
				target = CHI
			}
			air_experience = 25	
		}
	}
	
	SOV_send_guns_communist = {
		icon = GFX_decision_generic_prepare_civil_war
		cost = 50
		ai_will_do = {
			factor = 70
		}		
		fire_only_once = yes
		visible = {
			PRC = {
				has_war_with = JAP
			}
		}
		available = {
			has_equipment = {
				infantry_equipment_1 > 2999
			}
		}
		complete_effect = {
			send_equipment = {
				equipment = infantry_equipment
				amount = 3000
				target = PRC
			}
			army_experience = 15
		}
	}

	SOV_send_planes_communist = {
		icon = GFX_decision_generic_air
		cost = 50
		ai_will_do = {
			factor = 70
		}		
		fire_only_once = yes
		visible = {
			PRC = {
				has_war_with = JAP
			}
		}
		available = {
			has_equipment = {
				fighter_equipment > 249
			}
			has_equipment = {
				tac_bomber_equipment > 249
			}			
		}
		complete_effect = {	
			send_equipment = {
				equipment = fighter_equipment
				amount = 250
				target = PRC
			}
			send_equipment = {
				equipment = tac_bomber_equipment
				amount = 250
				target = PRC
			}
			air_experience = 15	
		}
	}
	
	SOV_send_support_equipment_nationalist = {
		icon = GFX_decision_generic_operation
		cost = 50
		ai_will_do = {
			factor = 70
		}		
		fire_only_once = yes
		visible = {
			CHI = {
				has_war_with = JAP
			}
		}
		available = {
			has_equipment = {
				support_equipment > 199
			}
		}
		complete_effect = {
			send_equipment = {
				equipment = support_equipment
				amount = 200
				target = CHI
			}			
			army_experience = 5
		}
	}
	
	SOV_send_support_equipment_communist = {
		icon = GFX_decision_generic_operation
		cost = 50
		ai_will_do = {
			factor = 70
		}		
		fire_only_once = yes
		visible = {
			PRC = {
				has_war_with = JAP
			}
		}
		available = {
			has_equipment = {
				support_equipment > 199
			}
		}
		complete_effect = {
			send_equipment = {
				equipment = support_equipment
				amount = 200
				target = PRC
			}			
			army_experience = 5
		}
	}	
}

SOV_minor_communist_countries_europe = {

	SOV_invite_countries = {
	
		icon = GFX_generic_political_discourse
		
		fire_only_once = yes
		
		days_remove = 25

		allowed = {
			original_tag = SOV
		}
		
		visible = {
			is_faction_leader = yes
			has_completed_focus = SOV_communist_minorities_europe
			has_government = communism
		}
		
		target_root_trigger = {
			has_completed_focus = SOV_communist_minorities_europe
		}

		target_trigger = {
			FROM = {
				NOT = { is_in_faction_with = ROOT }
				capital_scope = {
					is_on_continent = europe
				}
				is_major = no
				num_of_factories < 30
				NOT = {
					TAG = SLV
					TAG = CRO
					TAG = BOS
					TAG = SER
					TAG = MNT
					TAG = MAC
					TAG = CAT
					TAG = NAV
					TAG = GLC
					TAG = SCO
					TAG = WLS
					TAG = NIR
				}				
			}
        }

		available = {
			OR = {
				has_opinion = {
					target = FROM
					value > 49
				}
				FROM = {
					has_opinion = {
						target = ROOT
						value > 49
					}
				}
			}
			FROM = {
				is_subject = no
				is_in_faction = no
				OR = {
					has_government = communism
					communism > 0.3
				}
				NOT = {
					has_war_with = SOV
				}
			}
		}

		cost = 25
		
		remove_effect = {
			FROM = {
				country_event = {
					id = soviets.69
				}				
			}
		}
		
		ai_will_do = {
			factor = 100
		}
	}
	
	SOV_invest_countries = {
	
		icon = GFX_decision_ger_military_buildup
		
		fire_only_once = yes
		
		days_remove = 70

		allowed = {
			original_tag = SOV
		}
		
		visible = {
			is_faction_leader = yes
			has_completed_focus = SOV_help_minor_communist_countries_europe
			has_government = communism
		}
		
		target_root_trigger = {
			has_completed_focus = SOV_help_minor_communist_countries_europe
		}

		target_trigger = {
			FROM = {
				has_country_flag = accepted_4th_international
			}
        }

		cost = 50
		
		remove_effect = {
			FROM = {
				random_owned_state = {
					add_extra_state_shared_building_slots = 2
					add_building_construction  = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
				random_owned_state = {
					add_extra_state_shared_building_slots = 2
					add_building_construction  = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				add_popularity = {
					ideology = communism
					popularity = 0.1
				}
			}
		}
		
		ai_will_do = {
			factor = 80
		}
	}
}

SOV_help_spain = {
	
	SOV_send_weapons_spain = {
		icon = GFX_decision_generic_prepare_civil_war
		cost = 50
		ai_will_do = {
			factor = 70
		}		
		fire_only_once = yes
		allowed = {
			original_tag = SOV
		}
		visible = {
			has_completed_focus = SOV_weapons_spain
			SPR = {
				has_civil_war = yes
			}
		}
		available = {
			SPR = {
				has_civil_war = yes
			}
			has_equipment = {
				infantry_equipment > 1999
			}
		}	
		complete_effect = {
			send_equipment = {
				equipment = infantry_equipment
				amount = 2000
				target = SPR
			}
			army_experience = 15
		}
	}

	SOV_send_planes_spain = {
		icon = GFX_decision_generic_air
		cost = 50
		ai_will_do = {
			factor = 70
		}		
		fire_only_once = yes
		allowed = {
			original_tag = SOV
		}
		visible = {
			has_completed_focus = SOV_weapons_spain
			SPR = {
				has_civil_war = yes
			}
		}
		available = {
			has_completed_focus = SOV_weapons_spain
			has_equipment = {
				fighter_equipment > 49
			}
			has_equipment = {
				tac_bomber_equipment > 49
			}			
		}	
		complete_effect = {
			send_equipment = {
				equipment = fighter_equipment
				amount = 50
				target = SPR
			}
			send_equipment = {
				equipment = tac_bomber_equipment
				amount = 50
				target = SPR
			}			
			air_experience = 15
		}
	}
	
	SOV_send_support_equipment_spain = {
		icon = GFX_decision_generic_operation
		cost = 50
		ai_will_do = {
			factor = 70
		}		
		fire_only_once = yes
		visible = {
			has_completed_focus = SOV_weapons_spain
			SPR = {
				has_civil_war = yes
			}	
		}
		available = {
			has_completed_focus = SOV_weapons_spain
			has_equipment = {
				support_equipment > 299
			}
		}
		complete_effect = {
			send_equipment = {
				equipment = support_equipment
				amount = 300
				target = SPR
			}			
			army_experience = 10
		}
	}
	
	SOV_send_volunteer = {
		icon = GFX_decision_eng_blackshirt_march
		cost = 50
		ai_will_do = {
			factor = 70
		}		
		fire_only_once = yes
		visible = {
			has_completed_focus = SOV_weapons_spain
			SPR = {
				has_civil_war = yes
			}
		}
		available = {
			has_completed_focus = SOV_weapons_spain
		}
		complete_effect = {
			SPR = {
				country_event = { id = soviets.72 days = 1 }
			}	
			add_manpower = -10500	
		}
	}	
}

SOV_mission_op = {

	SOV_mission_korea = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			tag = HAW	
		}	
		available = {
			has_country_flag = SOV_liberated_korea
		}		
		visible = {
			SOV = {
				has_country_flag = SOV_is_liberating_korea
			}
			has_country_flag = SOV_is_liberation_target_korea
		}	
		days_mission_timeout = 360
		is_good = no
		timeout_effect = {
			
		}
		complete_effect = {
			hidden_effect = {
				clr_country_flag = SOV_is_liberation_target_korea
			}	
		}
	}
	
	SOV_mission_indochina = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			tag = HAW	
		}		
		available = {
			has_country_flag = SOV_liberated_indochina
		}	
		visible = {
			SOV = {
				has_country_flag = SOV_is_liberating_indochina
			}
			FROM = {
				has_country_flag = SOV_is_liberation_target_indochina
			}	
		}	
		days_mission_timeout = 360
		is_good = no
		timeout_effect = {

		}
		complete_effect = {
			hidden_effect = {
				clr_country_flag = SOV_is_liberation_target_indochina
			}
		}
	}

	SOV_mission_tibet = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			tag = HAW	
		}		
		available = {
			has_country_flag = SOV_liberated_tibet
		}
		visible = {
			SOV = {
				has_country_flag = SOV_is_liberating_tibet
			}
			FROM = {
				has_country_flag = SOV_is_liberation_target_tibet
			}	
		}	
		days_mission_timeout = 360
		is_good = no
		timeout_effect = {

		}
		complete_effect = {
			hidden_effect = {
				clr_country_flag = SOV_is_liberation_target_tibet
			}
		}
	}

	SOV_mission_ethiopia = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			tag = HAW	
		}		
		available = {
			has_country_flag = SOV_liberated_ethiopia
		}
		visible = {
			SOV = {
				has_country_flag = SOV_is_liberating_ethiopia
			}
			FROM = {
				has_country_flag = SOV_is_liberation_target_ethiopia
			}	
		}	
		days_mission_timeout = 360
		is_good = no
		timeout_effect = {
			
		}
		complete_effect = {
			hidden_effect = {
				clr_country_flag = SOV_is_liberation_target_ethiopia
			}
		}
	}
	
	SOV_mission_morocco = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			tag = HAW	
		}		
		available = {
			has_country_flag = SOV_liberated_morocco
		}
		visible = {
			SOV = {
				has_country_flag = SOV_is_liberating_morocco
			}
			FROM = {
				has_country_flag = SOV_is_liberation_target_morocco
			}	
		}	
		days_mission_timeout = 360
		is_good = no
		timeout_effect = {
			
		}
		complete_effect = {
			hidden_effect = {
				clr_country_flag = SOV_is_liberation_target_morocco
			}	
		}
	}

	SOV_mission_egypt = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			tag = HAW	
		}		
		available = {
			has_country_flag = SOV_liberated_egypt
		}
		visible = {
			SOV = {
				has_country_flag = SOV_is_liberating_egypt
			}
			FROM = {
				has_country_flag = SOV_is_liberation_target_egypt
			}
		}	
		days_mission_timeout = 360
		is_good = no
		timeout_effect = {
	
		}
		complete_effect = {
			hidden_effect = {
				clr_country_flag = SOV_is_liberation_target_egypt
			}
		}
	}
	
	SOV_mission_balkan = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			tag = HAW	
		}		
		available = {
			has_country_flag = SOV_liberated_balkan
		}
		visible = {
			SOV = {
				has_country_flag = SOV_is_liberating_balkan
			}
			FROM = {
				has_country_flag = SOV_is_liberation_target_balkan
			}	
		}	
		days_mission_timeout = 360
		is_good = no
		timeout_effect = {

		}
		complete_effect = {
			hidden_effect = {
				clr_country_flag = SOV_is_liberation_target_balkan
			}
		}
	}
	
	SOV_mission_british = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			tag = HAW	
		}		
		available = {
			has_country_flag = SOV_liberated_uk
		}
		visible = {
			SOV = {
				has_country_flag = SOV_is_liberating_uk
			}
			FROM = {
				has_country_flag = SOV_is_liberation_target_uk
			}	
		}	
		days_mission_timeout = 360
		is_good = no
		timeout_effect = {

		}
		complete_effect = {
			hidden_effect = {
				clr_country_flag = SOV_is_liberation_target_uk
			}
		}
	}
	
	SOV_mission_iberia = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			tag = HAW	
		}		
		available = {
			has_country_flag = SOV_liberated_iberia
		}
		visible = {
			SOV = {
				has_country_flag = SOV_is_liberating_iberia
			}
			FROM = {
				has_country_flag = SOV_is_liberation_target_iberia
			}	
		}	
		days_mission_timeout = 360
		is_good = no
		timeout_effect = {

		}
		complete_effect = {
			hidden_effect = {
				clr_country_flag = SOV_is_liberation_target_iberia
			}
		}
	}
	
	SOV_liberation_europe = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			tag = HAW	
		}		
		available = {
			SOV = {
				NOT = {
					has_country_flag = SOV_is_liberating_europe
				}
			}	
		}
		visible = {
			SOV = {
				has_country_flag = SOV_is_liberating_europe
			}
			FROM = {
				has_country_flag = target_europe
			}	
		}	
		days_mission_timeout = 360
		is_good = no
		timeout_effect = {

		}
	}

	SOV_liberation_africa = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			tag = HAW	
		}		
		available = {
			SOV = {
				NOT = {
					has_country_flag = SOV_is_liberating_africa
				}
			}	
		}
		visible = {
			SOV = {
				has_country_flag = SOV_is_liberating_africa
			}
			FROM = {
				has_country_flag = target_africa
			}	
		}	
		days_mission_timeout = 360
		is_good = no
		timeout_effect = {
			
		}
	}

	SOV_liberation_asia = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			tag = HAW	
		}		
		available = {
			SOV = {
				NOT = {
					has_country_flag = SOV_is_liberating_asia
				}
			}	
		}
		visible = {
			SOV = {
				has_country_flag = SOV_is_liberating_asia
			}
			FROM = {
				has_country_flag = target_asia
			}	
		}	
		days_mission_timeout = 360
		is_good = no
		timeout_effect = {
			
		}
	}	
}

SOV_invite_revolution = {

	SOV_invite_communist_revolution = {
	
		icon = GFX_generic_political_discourse
		
		fire_only_once = yes
		
		days_remove = 10

		allowed = {
			original_tag = SOV
		}
		
		visible = {
			is_faction_leader = yes
			has_completed_focus = SOV_revolution_to_the_utmost
			any_country = {
				has_country_flag = liberated_by_sov
			}
			has_government = communism
		}
		
		target_root_trigger = {
			has_completed_focus = SOV_revolution_to_the_utmost
		}

		target_trigger = {
			FROM = {
				NOT = { is_in_faction_with = ROOT }
				has_government = communism
				has_country_flag = liberated_by_sov
			}
        }

		available = {
			OR = {
				has_opinion = {
					target = FROM
					value > 49
				}
				FROM = {
					has_opinion = {
						target = ROOT
						value > 49
					}
				}
			}
			FROM = {
				is_subject = no
				has_government = communism
				NOT = {
					has_war_with = SOV
				}
				NOT = {
					has_idea = SOV_Fight_revolution
				}
			}	
		}

		cost = 10
		
		remove_effect = {
			FROM = {
				country_event = {
					id = soviets.69
				}				
			}
		}
		
		ai_will_do = {
			factor = 100
		}
	}
}

SOV_proclaim_revolution = {

	SOV_triumph_warsaw = {
	
		icon = GFX_decision_generic_nationalism
		
		fire_only_once = yes

		cost = 10

		allowed = {
			original_tag = SOV
		}
		
		visible = {
			has_completed_focus = SOV_consolidate_true_communism
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_triumph_warsaw_tt
				OR = {
					10 = { 
						is_owned_and_controlled_by = SOV
					}
					any_allied_country = {
						has_government = communism
						has_full_control_of_state = 10
					}
				}
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_add_1_scale
			add_to_variable = {
			    var = revolution_count
			    value = 1
			}
			subtract_from_variable = {
			    var = revolution_final_count
			    value = 1
			}
			clamp_variable = {
				var = revolution_count
				min = 0
				max = 12
			}
			clamp_variable = {
				var = revolution_final_count
				min = 0
				max = 12
			}
			set_country_flag = SOV_has_conquered_old_city_europe
		}
		
		ai_will_do = {
			factor = 100
		}
	}

	SOV_triumph_madrid = {
	
		icon = GFX_decision_generic_nationalism
		
		fire_only_once = yes

		cost = 10

		allowed = {
			original_tag = SOV
		}
		
		visible = {
			has_completed_focus = SOV_consolidate_true_communism
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_triumph_madrid_tt
				OR = {
					41 = { 
						is_owned_and_controlled_by = SOV
					}
					any_allied_country = {
						has_government = communism
						has_full_control_of_state = 41
					}
				}
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_add_1_scale
			add_to_variable = {
			    var = revolution_count
			    value = 1
			}
			subtract_from_variable = {
			    var = revolution_final_count
			    value = 1
			}
			clamp_variable = {
				var = revolution_count
				min = 0
				max = 12
			}
			clamp_variable = {
				var = revolution_final_count
				min = 0
				max = 12
			}
			set_country_flag = SOV_has_conquered_old_city_europe
		}
		
		ai_will_do = {
			factor = 100
		}
	}

	SOV_triumph_istanbul = {
	
		icon = GFX_decision_generic_nationalism
		
		fire_only_once = yes

		cost = 10

		allowed = {
			original_tag = SOV
		}
		
		visible = {
			has_completed_focus = SOV_consolidate_true_communism
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_triumph_istanbul_tt
				OR = {
					341 = { 
						is_owned_and_controlled_by = SOV
					}
					any_allied_country = {
						has_government = communism
						has_full_control_of_state = 341
					}
				}
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_add_1_scale
			add_to_variable = {
			    var = revolution_count
			    value = 1
			}
			subtract_from_variable = {
			    var = revolution_final_count
			    value = 1
			}
			clamp_variable = {
				var = revolution_count
				min = 0
				max = 12
			}
			clamp_variable = {
				var = revolution_final_count
				min = 0
				max = 12
			}
			set_country_flag = SOV_has_conquered_old_city_europe
		}
		
		ai_will_do = {
			factor = 100
		}
	}

	SOV_triumph_vienna = {
	
		icon = GFX_decision_generic_nationalism
		
		fire_only_once = yes

		cost = 10

		allowed = {
			original_tag = SOV
		}
		
		visible = {
			has_completed_focus = SOV_consolidate_true_communism
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_triumph_vienna_tt
				OR = {
					4 = { 
						is_owned_and_controlled_by = SOV
					}
					any_allied_country = {
						has_government = communism
						has_full_control_of_state = 4
					}
				}
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_add_1_scale
			add_to_variable = {
			    var = revolution_count
			    value = 1
			}
			subtract_from_variable = {
			    var = revolution_final_count
			    value = 1
			}
			clamp_variable = {
				var = revolution_count
				min = 0
				max = 12
			}
			clamp_variable = {
				var = revolution_final_count
				min = 0
				max = 12
			}
			set_country_flag = SOV_has_conquered_old_city_europe
		}
		
		ai_will_do = {
			factor = 100
		}
	}

	SOV_triumph_paris = {
	
		icon = GFX_decision_generic_nationalism
		
		fire_only_once = yes

		cost = 10

		allowed = {
			original_tag = SOV
		}
		
		visible = {
			has_completed_focus = SOV_consolidate_true_communism
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_triumph_paris_tt
				OR = {
					16 = { 
						is_owned_and_controlled_by = SOV
					}
					any_allied_country = {
						has_government = communism
						has_full_control_of_state = 16
					}
				}
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_add_2_scale
			add_to_variable = {
			    var = revolution_count
			    value = 2
			}
			subtract_from_variable = {
			    var = revolution_final_count
			    value = 2
			}
			clamp_variable = {
				var = revolution_count
				min = 0
				max = 12
			}
			clamp_variable = {
				var = revolution_final_count
				min = 0
				max = 12
			}
			set_country_flag = SOV_has_conquered_major_city_europe
		}
		
		ai_will_do = {
			factor = 100
		}
	}

	SOV_triumph_berlin = {
	
		icon = GFX_decision_generic_nationalism
		
		fire_only_once = yes

		cost = 10

		allowed = {
			original_tag = SOV
		}
		
		visible = {
			has_completed_focus = SOV_consolidate_true_communism
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_triumph_berlin_tt
				OR = {
					64 = { 
						is_owned_and_controlled_by = SOV
					}
					any_allied_country = {
						has_government = communism
						has_full_control_of_state = 64
					}
				}
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_add_2_scale
			add_to_variable = {
			    var = revolution_count
			    value = 2
			}
			subtract_from_variable = {
			    var = revolution_final_count
			    value = 2
			}
			clamp_variable = {
				var = revolution_count
				min = 0
				max = 12
			}
			clamp_variable = {
				var = revolution_final_count
				min = 0
				max = 12
			}
			set_country_flag = SOV_has_conquered_major_city_europe
		}
		
		ai_will_do = {
			factor = 100
		}
	}

	SOV_triumph_rome = {
	
		icon = GFX_decision_generic_nationalism
		
		fire_only_once = yes

		cost = 10

		allowed = {
			original_tag = SOV
		}
		
		visible = {
			has_completed_focus = SOV_consolidate_true_communism
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_triumph_rome_tt
				OR = {
					2 = { 
						is_owned_and_controlled_by = SOV
					}
					any_allied_country = {
						has_government = communism
						has_full_control_of_state = 2
					}
				}
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_add_2_scale
			add_to_variable = {
			    var = revolution_count
			    value = 2
			}
			subtract_from_variable = {
			    var = revolution_final_count
			    value = 2
			}
			clamp_variable = {
				var = revolution_count
				min = 0
				max = 12
			}
			clamp_variable = {
				var = revolution_final_count
				min = 0
				max = 12
			}
			set_country_flag = SOV_has_conquered_major_city_europe
		}
		
		ai_will_do = {
			factor = 100
		}
	}

	SOV_triumph_london = {
	
		icon = GFX_decision_generic_nationalism
		
		fire_only_once = yes

		cost = 10

		allowed = {
			original_tag = SOV
		}
		
		visible = {
			has_completed_focus = SOV_consolidate_true_communism
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_triumph_london_tt
				OR = {
					126 = { 
						is_owned_and_controlled_by = SOV
					}
					any_allied_country = {
						has_government = communism
						has_full_control_of_state = 126
					}
				}
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_add_2_scale
			add_to_variable = {
			    var = revolution_count
			    value = 2
			}
			subtract_from_variable = {
			    var = revolution_final_count
			    value = 2
			}
			clamp_variable = {
				var = revolution_count
				min = 0
				max = 12
			}
			clamp_variable = {
				var = revolution_final_count
				min = 0
				max = 12
			}
			set_country_flag = SOV_has_conquered_major_city_europe
		}
		
		ai_will_do = {
			factor = 100
		}
	}

	SOV_triumph_washington = {
	
		icon = GFX_decision_generic_nationalism
		
		fire_only_once = yes

		cost = 10

		allowed = {
			original_tag = SOV
		}
		
		visible = {
			has_completed_focus = SOV_consolidate_true_communism
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_triumph_washington_tt
				OR = {
					361 = { 
						is_owned_and_controlled_by = SOV
					}
					any_allied_country = {
						has_government = communism
						has_full_control_of_state = 361
					}
				}
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_add_2_scale
			add_to_variable = {
			    var = revolution_count
			    value = 2
			}
			subtract_from_variable = {
			    var = revolution_final_count
			    value = 2
			}
			clamp_variable = {
				var = revolution_count
				min = 0
				max = 12
			}
			clamp_variable = {
				var = revolution_final_count
				min = 0
				max = 12
			}
			set_country_flag = SOV_has_conquered_old_city
		}
		
		ai_will_do = {
			factor = 100
		}
	}

	SOV_triumph_tokyo = {
	
		icon = GFX_decision_generic_nationalism
		
		fire_only_once = yes

		cost = 10

		allowed = {
			original_tag = SOV
		}
		
		visible = {
			has_completed_focus = SOV_consolidate_true_communism
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_triumph_tokyo_tt
				OR = {
					282 = { 
						is_owned_and_controlled_by = SOV
					}
					any_allied_country = {
						has_government = communism
						has_full_control_of_state = 282
					}
				}
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_add_2_scale
			add_to_variable = {
			    var = revolution_count
			    value = 2
			}
			subtract_from_variable = {
			    var = revolution_final_count
			    value = 2
			}
			clamp_variable = {
				var = revolution_count
				min = 0
				max = 12
			}
			clamp_variable = {
				var = revolution_final_count
				min = 0
				max = 12
			}
			set_country_flag = SOV_has_conquered_old_city
		}
		
		ai_will_do = {
			factor = 100
		}
	}

	SOV_triumph_beijing = {
	
		icon = GFX_decision_generic_nationalism
		
		fire_only_once = yes

		cost = 10

		allowed = {
			original_tag = SOV
		}
		
		visible = {
			has_completed_focus = SOV_consolidate_true_communism
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_triumph_beijing_tt
				OR = {
					608 = { 
						is_owned_and_controlled_by = SOV
					}
					any_allied_country = {
						has_government = communism
						has_full_control_of_state = 608
					}
				}
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_add_1_scale
			add_to_variable = {
			    var = revolution_count
			    value = 1
			}
			subtract_from_variable = {
			    var = revolution_final_count
			    value = 1
			}
			clamp_variable = {
				var = revolution_count
				min = 0
				max = 12
			}
			clamp_variable = {
				var = revolution_final_count
				min = 0
				max = 12
			}
			set_country_flag = SOV_has_conquered_old_city
		}
		
		ai_will_do = {
			factor = 100
		}
	}

	SOV_triumph_delhi = {
	
		icon = GFX_decision_generic_nationalism
		
		fire_only_once = yes

		cost = 10

		allowed = {
			original_tag = SOV
		}
		
		visible = {
			has_completed_focus = SOV_consolidate_true_communism
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_triumph_delhi_tt
				OR = {
					439 = { 
						is_owned_and_controlled_by = SOV
					}
					any_allied_country = {
						has_government = communism
						has_full_control_of_state = 439
					}
				}
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_add_1_scale
			add_to_variable = {
			    var = revolution_count
			    value = 1
			}
			subtract_from_variable = {
			    var = revolution_final_count
			    value = 1
			}
			clamp_variable = {
				var = revolution_count
				min = 0
				max = 12
			}
			clamp_variable = {
				var = revolution_final_count
				min = 0
				max = 12
			}
			set_country_flag = SOV_has_conquered_old_city
		}
		
		ai_will_do = {
			factor = 100
		}
	}

	SOV_secure_revolution = {
	
		icon = generic_civil_support
		
		fire_only_once = yes

		cost = 50

		allowed = {
			original_tag = SOV
		}
		
		visible = {
			has_completed_focus = SOV_consolidate_true_communism
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_secure_revolution_tt
				has_country_flag = SOV_has_conquered_old_city_europe
			}
			custom_trigger_tooltip = {
				tooltip = SOV_secure_revolution_tt2
				check_variable = {
					var = revolution_count
					value = 3
					compare = greater_than_or_equals
				}
			}
		}

		complete_effect = {
			add_stability = 0.1
			add_ideas = SOV_marching_revolution
			set_country_flag = SOV_secured_revolution
		}
		
		ai_will_do = {
			factor = 100
		}
	}

	SOV_expand_revolution = {
	
		icon = generic_industry
		
		fire_only_once = yes

		cost = 50

		allowed = {
			original_tag = SOV
		}
		
		visible = {
			has_completed_focus = SOV_consolidate_true_communism
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_expand_revolution_tt
				has_country_flag = SOV_secured_revolution
			}
			custom_trigger_tooltip = {
				tooltip = SOV_expand_revolution_tt2
				has_country_flag = SOV_has_conquered_major_city_europe
			}
			custom_trigger_tooltip = {
				tooltip = SOV_expand_revolution_tt3
				check_variable = {
					var = revolution_count
					value = 6
					compare = greater_than_or_equals
				}
			}
		}

		complete_effect = {
			swap_ideas = {
				remove_idea = SOV_marching_revolution
				add_idea = SOV_marching_revolution2
			}
			hidden_effect = {
				if = {
					limit = {
						NOT = {
							has_tech = tech_logistics_company
						}
					}
					set_technology = {
						tech_logistics_company = 1
					}	
				}
				if = {
					limit = {
						NOT = {
							has_tech = tech_signal_company
						}
					}
					set_technology = {
						tech_signal_company = 1
					}	
				}
				division_template = {
					name = "Strazhi Revolyutsii"
					priority = 2
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 0 y = 3 }
						artillery_brigade = { x = 0 y = 4 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
						infantry = { x = 1 y = 3 }
						artillery_brigade = { x = 1 y = 4 }
						infantry = { x = 2 y = 0 }
						infantry = { x = 2 y = 1 }
						infantry = { x = 2 y = 2 }
						infantry = { x = 2 y = 3 }
						artillery_brigade = { x = 2 y = 4 }
						infantry = { x = 3 y = 0 }
						infantry = { x = 3 y = 1 }
						artillery_brigade = { x = 3 y = 2 }
					}
					support = {
						artillery = { x = 0 y = 0 }
						logistics_company = { x = 0 y = 1 }
						signal_company = { x = 0 y = 2 }
						mot_recon = { x = 0 y = 3 }
						engineer = { x = 0 y = 4 }
					}
				}
				capital_scope = {
					create_unit = {
						division = "name = \"1st Strazhi Revolyutsii Division\" division_template = \"Strazhi Revolyutsii\" start_experience_factor = 1.0 start_equipment_factor = 1.0"
						owner = SOV
					}
					create_unit = {
						division = "name = \"2nd Strazhi Revolyutsii Division\" division_template = \"Strazhi Revolyutsii\" start_experience_factor = 1.0 start_equipment_factor = 1.0"
						owner = SOV
					}
					create_unit = {
						division = "name = \"3rd Strazhi Revolyutsii Division\" division_template = \"Strazhi Revolyutsii\" start_experience_factor = 1.0 start_equipment_factor = 1.0"
						owner = SOV
					}
					create_unit = {
						division = "name = \"4th Strazhi Revolyutsii Division\" division_template = \"Strazhi Revolyutsii\" start_experience_factor = 1.0 start_equipment_factor = 1.0"
						owner = SOV
					}
					create_unit = {
						division = "name = \"5th Strazhi Revolyutsii Division\" division_template = \"Strazhi Revolyutsii\" start_experience_factor = 1.0 start_equipment_factor = 1.0"
						owner = SOV
					}
				}
			}
			custom_effect_tooltip = SOV_expand_revolution_tt4
			set_country_flag = SOV_expanded_revolution
		}
		
		ai_will_do = {
			factor = 100
		}
	}

	SOV_last_step_revolution = {
	
		icon = eng_blackshirt_march
		
		fire_only_once = yes

		cost = 50

		allowed = {
			original_tag = SOV
		}
		
		visible = {
			has_completed_focus = SOV_consolidate_true_communism
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_last_step_revolution_tt
				has_country_flag = SOV_expanded_revolution
			}
			custom_trigger_tooltip = {
				tooltip = SOV_last_step_revolution_tt2
				has_country_flag = SOV_has_conquered_old_city
			}
			custom_trigger_tooltip = {
				tooltip = SOV_last_step_revolution_tt3
				check_variable = {
					var = revolution_count
					value = 9
					compare = greater_than_or_equals
				}
			}
		}

		complete_effect = {
			swap_ideas = {
				remove_idea = SOV_marching_revolution2
				add_idea = SOV_marching_revolution3
			}
			hidden_effect = {
				if = {
					limit = {
						NOT = {
							has_tech = tech_logistics_company
						}
					}
					set_technology = {
						tech_logistics_company = 1
					}	
				}
				if = {
					limit = {
						NOT = {
							has_tech = tech_signal_company
						}
					}
					set_technology = {
						tech_signal_company = 1
					}	
				}
				if = {
					limit = {
						NOT = {
							has_tech = basic_medium_tank 
						}
					}
					set_technology = {
						basic_medium_tank  = 1
					}	
				}
				if = {
					limit = {
						NOT = {
							has_tech = mechanised_infantry
						}
					}
					set_technology = {
						mechanised_infantry = 1
					}	
				}
				if = {
					limit = {
						NOT = {
							has_tech = armored_car1
						}
					}
					set_technology = {
						armored_car1 = 1
					}	
				}
				if = {
					limit = {
						NOT = {
							has_tech = rocket_artillery
						}
					}
					set_technology = {
						rocket_artillery = 1
					}	
				}
				division_template = {
					name = "Tanki Osvobozhdeniya"
					priority = 2
					regiments = {
						medium_armor = { x = 0 y = 0 }
						medium_armor = { x = 0 y = 1 }
						medium_armor = { x = 0 y = 2 }
						medium_armor = { x = 0 y = 3 }
						medium_armor = { x = 0 y = 4 }
						medium_armor = { x = 1 y = 0 }
						medium_armor = { x = 1 y = 1 }
						medium_armor = { x = 1 y = 2 }
						medium_armor = { x = 1 y = 3 }
						medium_armor = { x = 1 y = 4 }
						mechanized = { x = 2 y = 0 }
						mechanized = { x = 2 y = 1 }
						mechanized = { x = 2 y = 2 }
						mechanized = { x = 2 y = 3 }
						mechanized = { x = 2 y = 4 }
						mechanized = { x = 3 y = 0 }
						mechanized = { x = 3 y = 1 }
						mechanized = { x = 3 y = 2 }
						mechanized = { x = 3 y = 3 }
						mechanized = { x = 3 y = 4 }
					}
					support = {
						rocket_artillery = { x = 0 y = 0 }
						logistics_company = { x = 0 y = 1 }
						signal_company = { x = 0 y = 2 }
						light_tank_recon = { x = 0 y = 3 }
						engineer = { x = 0 y = 4 }
					}
				}
				capital_scope = {
					create_unit = {
						division = "name = \"1st Tanki Osvobozhdeniya Divsion\" division_template = \"Tanki Osvobozhdeniya\" start_experience_factor = 1.0 start_equipment_factor = 1.0"
						owner = SOV
					}
					create_unit = {
						division = "name = \"2nd Tanki Osvobozhdeniya Divsion\" division_template = \"Tanki Osvobozhdeniya\" start_experience_factor = 1.0 start_equipment_factor = 1.0"
						owner = SOV
					}
				}
			}
			custom_effect_tooltip = SOV_last_step_revolution_tt4
			set_country_flag = SOV_last_step_of_revolution
		}
		
		ai_will_do = {
			factor = 100
		}
	}

	SOV_end_revolution = {
	
		icon = generic_form_nation
		
		fire_only_once = yes

		cost = 100

		allowed = {
			original_tag = SOV
		}
		
		visible = {
			has_completed_focus = SOV_consolidate_true_communism
		}

		available = {
			has_completed_focus = SOV_revolution_to_the_utmost
			custom_trigger_tooltip = {
				tooltip = SOV_end_revolution_tt
				NOT = {
					any_country = {
						is_major = yes
						NOT = {
							has_government = communism
						}
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = SOV_end_revolution_tt2
				has_country_flag =  SOV_last_step_of_revolution
			}
			custom_trigger_tooltip = {
				tooltip = SOV_end_revolution_tt3
				check_variable = {
					var = revolution_count
					value = 12
					compare = greater_than_or_equals
				}
			}
		}

		complete_effect = {
			country_event = soviets.92
			remove_ideas = SOV_marching_revolution3
			add_ideas = SOV_dancing_revolution
			custom_effect_tooltip = SOV_end_revolution_tt4
			hidden_effect = {
				add_state_core = 766
				add_state_core = 78
				add_state_core = 80
				add_state_core = 91
				add_state_core = 89
				add_state_core = 93
				add_state_core = 94
				add_state_core = 95
				add_state_core = 96
				add_state_core = 784
				add_state_core = 11
				add_state_core = 189
				add_state_core = 188
				add_state_core = 12
				add_state_core = 190
				add_state_core = 191
				add_state_core = 13
				add_state_core = 146
				add_state_core = 147
				add_state_core = 722
				add_state_core = 330
				add_state_core = 537
				add_state_claim = 463
				add_state_claim = 341
				add_state_claim = 10
				add_state_claim = 64
				add_state_claim = 42
				add_state_claim = 16
				add_state_claim = 126
				add_state_claim = 2
				add_state_claim = 41
				add_state_claim = 4
				add_state_claim = 608
				add_state_claim = 282
				add_state_claim = 439
				add_state_claim = 361
			}
			set_country_flag = SOV_ended_revolution
		}
		
		ai_will_do = {
			factor = 100
		}
	}

}