###########################
# German Events
###########################

add_namespace = germanys

# Exile to Siberia
country_event = {
	id = germanys.1
	title = germanys.1.t
	desc = germanys.1.d
	picture = GFX_report_event_fascist_speech

	is_triggered_only = yes

	option = {
		name = germanys.1.a
		ai_chance = {
			factor = 90
		}
		custom_effect_tooltip = SOV_exile_siberia_german_reward_tt
		hidden_effect = {
			every_country = {
				limit = {
					is_subject_of = SOV
				}
				SOV = {
					set_autonomy = {
		    			target = PREV
		    			autonomy_state = autonomy_free
					}
				}
			}
			every_state = {
	    		limit = {
	    			is_owned_by = SOV
	    			distance_to = {
	    				value > 6000
	    				target = 574
					}
	    		}
	    		GER = { transfer_state = PREV }
			}
		}
		add_ideas = GER_Russian_triumph
		SOV = {
			dismantle_faction = yes
			add_ideas = SOV_Exiled_russia
		}
		every_country = {
			limit = {
				has_war_with = SOV
			}
			white_peace = SOV
			set_truce = {
    			target = SOV
    			days = 365
			}
		}
		news_event = { days = 1 id = newsrussia2.13 }
	}

	option = {
		name = germanys.1.b
		ai_chance = {
			factor = 10
		}
		SOV = {
			country_event = { days = 1 id = germanys.2 }
		}
	}
}

#Germany Refuses Surrender
country_event = {
	id = germanys.2
	title = germanys.2.t
	desc = germanys.2.d
	picture = GFX_report_event_hungary_refused

	is_triggered_only = yes

	option = {
		name = germanys.2.a
		ai_chance = {
			factor = 100
		}
	}
}

#Germany Gets Event to Split Czechoslovakia
country_event = {
	id = germanys.3
	title = germanys.3.t
	desc = germanys.3.d
	picture = GFX_report_event_hungary_refused

	is_triggered_only = yes

	option = { #Accept
		name = germanys.3.a
		ai_chance = {
			factor = 80
		}
		every_state = {
			limit = {
				OR = {
					state = 664
					state = 70
					state = 71
					state = 73
				}
				OR = {
					is_controlled_by = GER
					any_country = {
						is_subject_of = GER
						controls_state = PREV
					}
				}
			}
			SOV = {
				transfer_state = PREV
				country_event = { id = germanys.4 days = 1 }
				diplomatic_relation = {
				    country = GER
				    relation = non_aggression_pact
				    active = yes
				}
			}
		}
	}

	option = { #Refuse
		name = germanys.3.b
		ai_chance = {
			factor = 20
		}
		SOV = {
			country_event = { id = germanys.5 days = 1 }
		}
	}
}

#Germany Accepts
country_event = {
	id = germanys.4
	title = germanys.4.t
	desc = germanys.4.d
	picture = GFX_report_event_hungary_refused

	is_triggered_only = yes

	option = { #Amazing
		name = germanys.4.a
		ai_chance = {
			factor = 100
		}
	}
}

#Germany Refuses
country_event = {
	id = germanys.5
	title = germanys.5.t
	desc = germanys.5.d
	picture = GFX_report_event_hungary_refused

	is_triggered_only = yes

	option = { #Damn Germany
		name = germanys.5.a
		ai_chance = {
			factor = 100
		}
	}
}

#SOV Requests Alliance
country_event = {
	id = germanys.6
	title = germanys.6.t
	desc = germanys.6.d
	picture = GFX_report_event_hungary_refused

	is_triggered_only = yes

	option = { #Accept
		name = germanys.6.a
		ai_chance = {
			factor = 60
		}
		SOV = {
			set_country_flag = german_alliance_incident
			if = {
				limit = {
					OR = {
						GER = {
							controls_state = 102
						}
						any_country = {
							is_subject_of = GER
							controls_state = 102
						}
					}
				}
				transfer_state = 102
			}
			country_event = { id = germanys.7 days = 1 }
			if = {
				limit = {
					is_faction_leader = yes
				}
				add_to_faction = GER
			}
			else_if = {
				limit = {
					GER = {
						is_faction_leader = yes
					}
				}
				GER = {
					add_to_faction = SOV
				}
			}
			else = {
				create_faction = russo_german_alliance
				add_to_faction = GER
			}
		}
	}

	option = { #Refuse
		name = germanys.6.b
		ai_chance = {
			factor = 40
		}
		SOV = {
			country_event = { id = germanys.8 days = 1 }
		}
	}
}

#Germany Accepts
country_event = {
	id = germanys.7
	title = germanys.7.t
	desc = germanys.7.d
	picture = GFX_report_event_hungary_refused

	is_triggered_only = yes

	option = { #Amazing
		name = germanys.7.a
		ai_chance = {
			factor = 100
		}
	}
}

#Germany Refuses
country_event = {
	id = germanys.8
	title = germanys.8.t
	desc = germanys.8.d
	picture = GFX_report_event_hungary_refused

	is_triggered_only = yes

	option = { #Damn Germany
		name = germanys.8.a
		ai_chance = {
			factor = 100
		}
	}
}

#SOV Backstabs
country_event = {
	id = germanys.9
	title = germanys.9.t
	desc = germanys.9.d
	picture = GFX_report_event_hungary_refused

	is_triggered_only = yes

	option = { #Accept
		name = germanys.9.a
		ai_chance = {
			factor = 60
		}
		every_state = {
			limit = {
				has_state_flag = slavic_states
				is_controlled_by = GER
			}
			SOV = {
				transfer_state = PREV
			}
		}
		SOV = {
			country_event = { id = germanys.10 days = 1 }
		}
	}

	option = { #Refuse
		name = germanys.9.b
		ai_chance = {
			factor = 40
		}
		SOV = {
			country_event = { id = germanys.11 days = 1 }
		}
	}
}

#Germany Accepts
country_event = {
	id = germanys.10
	title = germanys.10.t
	desc = germanys.10.d
	picture = GFX_report_event_hungary_refused

	is_triggered_only = yes

	option = { #Amazing
		name = germanys.10.a
		ai_chance = {
			factor = 100
		}
	}
}

#Germany Refuses
country_event = {
	id = germanys.11
	title = germanys.11.t
	desc = germanys.11.d
	picture = GFX_report_event_hungary_refused

	is_triggered_only = yes

	option = { #Get Wargoal
		name = germanys.11.a
		ai_chance = {
			factor = 100
		}
		create_wargoal = {
			type = annex_everything
			target = GER
		}
	}
}

#Germany Slav Incident
country_event = {
	id = germanys.12
	title = germanys.12.t
	desc = germanys.12.d
	picture = GFX_report_event_hungary_refused

	trigger = {
		tag = SOV
		is_in_faction_with = GER
		has_completed_focus = SOV_alliance_with_germany_junta
		has_country_flag = {
		    flag = german_alliance_incident
		    days > 180
		}
	}

	option = { #It's okay
		name = germanys.12.a
		ai_chance = {
			factor = 0
		}
		add_stability = -0.2
		clr_country_flag = german_alliance_incident
		set_country_flag = german_alliance_incident
	}

	option = { #Leave GER
		name = germanys.12.b
		ai_chance = {
			factor = 100
		}
		if = {
			limit = {
				is_faction_leader = yes
			}
			GER = {
				leave_faction = yes
			}
		}
		else = {
			leave_faction = yes
		}
		clr_country_flag = german_alliance_incident
		GER = {
			country_event = { id = germanys.13 days = 1 }
		}
	}
}

#SOV Leaves Faction (or kicks us)
country_event = {
	id = germanys.13
	title = germanys.13.t
	desc = germanys.13.d
	picture = GFX_report_event_hungary_refused

	is_triggered_only = yes

	option = { #Uh...
		name = germanys.13.a
		ai_chance = {
			factor = 100
		}
	}
}
